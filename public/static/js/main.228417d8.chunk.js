(this["webpackJsonpsetlist-hero-react"]=this["webpackJsonpsetlist-hero-react"]||[]).push([[0],{100:function(e,t,a){e.exports=a(211)},105:function(e,t,a){},140:function(e,t,a){e.exports=a.p+"static/media/dashboard.7217f10c.svg"},201:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l),s=(a(105),a(1)),o=a(15),i=a(13),u=a(99),m=a(6),d=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=a.user,l=a.loading,c=e.path,s=Object(u.a)(e,["component","auth","path"]);return r.a.createElement(o.b,{path:c,render:function(e){return n||l?r.a.createElement(t,Object.assign({},e,s)):r.a.createElement(o.a,{to:"/login"})}})})),b=a(30),E=a(91),f=a(48),v=a(59),p=a.n(v),g=a(2),h={LOGIN_START:"LOGIN_START",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT:"LOGOUT",REGISTER_SUCCESS:"REGISTER_SUCCESS",REGISTER_FAILURE:"REGISTER_FAILURE"},y=a(41),O=a.n(y),j=O.a.get("jwt")?JSON.parse(O.a.get("jwt")):{},N={user:j!=={}?Object(g.a)({token:j.token},j.user):{},error:{}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case h.LOGIN_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{user:n});case h.LOGIN_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{error:n});case h.LOGOUT:return Object(g.a)(Object(g.a)({},e),{},{user:{},error:{}});case h.REGISTER_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{user:n});case h.REGISTER_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{error:n});default:return e}},w={FETCH_BANDS_SUCCESS:"FETCH_BANDS_SUCCESS",FETCH_BANDS_FAILURE:"FETCH_BANDS_FAILURE",SELECT_BAND:"SELECT_BAND",UPDATE_SELECTED_BAND:"UPDATE_SELECTED_BAND"},C=w.FETCH_BANDS_SUCCESS,x=w.FETCH_BANDS_FAILURE,k=w.SELECT_BAND,F=w.UPDATE_SELECTED_BAND,T={bands:[],selectedBand:null,error:{}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case C:return Object(g.a)(Object(g.a)({},e),{},{bands:n});case x:return Object(g.a)(Object(g.a)({},e),{},{error:n});case k:case F:return Object(g.a)(Object(g.a)({},e),{},{selectedBand:n});default:return e}},D={FETCH_MUSICIANS_SUCCESS:"FETCH_MUSICIANS_SUCCESS",FETCH_MUSICIANS_FAILURE:"FETCH_MUSICIANS_FAILURE"},A=D.FETCH_MUSICIANS_FAILURE,M=D.FETCH_MUSICIANS_SUCCESS,I={musicians:[],error:{}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case M:return Object(g.a)(Object(g.a)({},e),{},{musicians:n});case A:return Object(g.a)(Object(g.a)({},e),{},{error:n});default:return e}},_={FETCH_SONGS:"FETCH_SONGS",SELECT_SONG:"SELECT_SONG"},U=_.FETCH_SONGS,H=_.SELECT_SONG,R={songs:[],song:{}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case U:return Object(g.a)(Object(g.a)({},e),{},{songs:n});case H:return Object(g.a)(Object(g.a)({},e),{},{song:n});default:return e}},q={messages:[]},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.message;switch(a){case"SHOW_MESSAGE":var r=[];return r.push(n),{messages:r};default:return e}},P={FETCH_EVENTS:"FETCH_EVENTS",SELECT_EVENT:"SELECT_EVENT"},z=P.FETCH_EVENTS,V=P.SELECT_EVENT,W={events:[],selectecEvent:{}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case z:return Object(g.a)(Object(g.a)({},e),{},{events:n});case V:return Object(g.a)(Object(g.a)({},e),{},{selectecEvent:n});default:return e}},Q=Object(b.combineReducers)({growlMessages:Y,auth:S,musician:L,event:Object(f.a)({key:"event",storage:p.a,blacklist:["events"]},J),song:Object(f.a)({key:"song",storage:p.a,blacklist:["songs"]},G),band:Object(f.a)({key:"band",storage:p.a,blacklist:["bands"]},B)}),$=Q,Z=Object(b.createStore)($,{},Object(E.devToolsEnhancer)()),K=Object(f.b)(Z),X=a(92),ee=a(93),te=a.n(ee),ae=a(5),ne=Object(ae.a)([function(e){return e.auth}],(function(e){return e.user})),re=function(){return{type:h.LOGOUT}},le=a(55),ce=a.n(le),se=function(){return r.a.createElement("div",{className:"center image-centerd animated rubberBand "},r.a.createElement("img",{src:ce.a,alt:"logo",style:{height:"".concat(100,"px"),width:"".concat(100,"px")}}))},oe=a(11),ie=a.n(oe),ue=a(17),me=a(27),de=a(28),be=a(26),Ee=a.n(be),fe=function(e){return{api:"".concat(e,"/").concat("api"),isProduction:!0,isDevelopment:!1}}(""),ve=Object(g.a)({},fe),pe=ve.api,ge=function(){function e(){Object(me.a)(this,e)}return Object(de.a)(e,[{key:"loginWithSocial",value:function(){var e=Object(ue.a)(ie.a.mark((function e(t){var a,n,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(pe,"/auth/").concat(t),e.next=3,Ee.a.get(a);case 3:return n=e.sent,r=n.request.responseURL,console.log(n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(ue.a)(ie.a.mark((function e(t){var a,n,r,l;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(pe,"/auth/register"),e.next=4,Ee.a.post(a,t,{headers:{"content-type":"application/json"}});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:if(e.prev=8,e.t0=e.catch(0),403!==(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status)){e.next=12;break}throw new Error("User already registered");case 12:if(500!==(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l?void 0:l.status)){e.next=14;break}throw new Error("Something wrong happened... try again later");case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(ue.a)(ie.a.mark((function e(t){var a,n,r,l,c,s,o;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(pe,"/auth/email"),e.next=4,Ee.a.post(a,t,{headers:{"content-type":"application/json"},withCredentials:!0});case 4:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 9:if(e.prev=9,e.t0=e.catch(0),l=e.t0.response,c=l.data,s=l.status,o=null===c||void 0===c||null===(r=c.errors[0])||void 0===r?void 0:r.msg,500!==s){e.next=17;break}throw new Error("Something wrong happened... try again later");case 17:throw new Error(o);case 18:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),he=new ge,ye=Object(ae.b)({user:ne}),Oe=Object(m.b)(ye,(function(e){return{registerUser:function(t){return e(function(e){return{type:h.REGISTER_SUCCESS,payload:e}}(t))}}}))((function(e){e.registerUser;var t=e.user,a=Object(n.useState)(""),l=Object(s.a)(a,2),c=l[0],u=l[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),b=d[0],E=d[1],f=Object(n.useState)(""),v=Object(s.a)(f,2),p=v[0],g=v[1],h=Object(n.useState)(""),y=Object(s.a)(h,2),O=y[0],j=y[1],N=Object(n.useState)(""),S=Object(s.a)(N,2),w=S[0],C=S[1],x=Object(n.useState)(!1),k=Object(s.a)(x,2),F=k[0],T=k[1],B=Object(n.useState)(""),D=Object(s.a)(B,2),A=D[0],M=D[1],I=Object(n.useState)(!1),L=Object(s.a)(I,2),_=L[0],U=L[1],H=Object(n.useState)(""),R=Object(s.a)(H,2),G=R[0],q=R[1],Y=Object(n.useState)(!1),P=Object(s.a)(Y,2),z=P[0],V=P[1];Object(n.useEffect)((function(){c!==A?(q("Passwords are different"),U(!1)):(q(""),U(!0))}),[c,A]),Object(n.useEffect)((function(){""===c?C(""):/(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/.test(c)?(C(""),T(!0)):C("Password must have at least one capital letter, one lowercase letter, one number and one special character (! @ # $ % ^ & *)")}),[c]);return z?r.a.createElement(o.a,{to:"/login"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(se,null),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),F&&_&&(t={email:O,displayName:b,password:c,username:p},he.register(t).then((function(e){console.log(e),V(!0),alert("user registered")})).catch((function(e){q(e.message)})))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",required:!0,id:"inputName",placeholder:"Enter name",onChange:function(e){return E(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"inputUsername",placeholder:"Enter username",required:!0,onChange:function(e){return g(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:"form-control",id:"inputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",required:!0,onChange:function(e){return j(e.target.value)}}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",required:!0,placeholder:"Password",id:"inputPassword1",onChange:function(e){return u(e.target.value)}}),r.a.createElement("small",{id:"passwordFeedback",className:"form-text text-danger"},w)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",required:!0,placeholder:"Confirm Password",id:"inputPassword2",onChange:function(e){return M(e.target.value)}}),r.a.createElement("small",{id:"passwordFeedback",className:"form-text text-danger"},G)),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block text-light"},"Register")),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("small",{className:"center"},"Already have an account? ",r.a.createElement(i.b,{style:{paddingLeft:"5px"},to:"/login"},"Login here")))})),je=a(20),Ne=Object(ae.b)({user:ne}),Se=Object(m.b)(Ne)((function(e){var t=e.image,a=e.children;return r.a.createElement("div",{className:"p-3 fill-height center",style:{backgroundImage:"url(".concat(t,")"),backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",backgroundSize:"cover"}},r.a.createElement("div",{className:"animated faster fadeIn"},r.a.createElement(je.a,{className:"shadowed",style:{width:"20rem",padding:"15px"}},a)))})),we=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Se,{image:te.a},r.a.createElement(Oe,null)))},Ce=ve.api,xe=function(e){var t=e.logo,a=e.text,n=e.action,l=e.btnClass;return r.a.createElement("button",{className:"btn btn-block ".concat(l),onClick:function(){return window.location.href="".concat(Ce,"/auth/").concat(n)}},r.a.createElement("span",{className:"content-horizontal"},r.a.createElement("img",{src:t,alt:"logo",style:{height:"".concat(20,"px"),width:"".concat(20,"px"),marginRight:"12px"}}),a))},ke=a(95),Fe=a.n(ke),Te=a(96),Be=a.n(Te),De=Object(ae.b)({user:ne}),Ae=Object(m.b)(De,(function(e){return{loginFailure:function(t){return e(function(e){return{type:h.LOGIN_FAILURE,payload:e}}(t))}}}))((function(e){var t=e.user,a=Object(n.useState)(""),l=Object(s.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(""),m=Object(s.a)(u,2),d=m[0],b=m[1],E=Object(n.useState)(""),f=Object(s.a)(E,2),v=f[0],p=f[1];Object(n.useEffect)((function(){return p("")}),[c,d]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,null),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t={identifier:d,password:c},he.login(t).then((function(e){alert("Logged In!"),window.location.href="/"})).catch((function(e){p(e.message)}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",required:!0,id:"inputName",placeholder:"Enter email or username",onChange:function(e){return b(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",required:!0,placeholder:"Password",id:"inputPassword2",onChange:function(e){return o(e.target.value)}}),r.a.createElement("small",{id:"passwordFeedback",className:"form-text text-danger"},v)),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block text-light"},"Log in")),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement(xe,{action:"google",text:"Log in with Google",logo:Fe.a,btnClass:"btn-outline-light"}),r.a.createElement(xe,{action:"facebook",text:"Log in with Facebook",logo:Be.a,btnClass:"btn-outline-light"}),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("small",{className:"center"},"Don't have an account? ",r.a.createElement(i.b,{style:{paddingLeft:"5px"},to:"/register"},"Register here")))})),Me=a(97),Ie=a.n(Me),Le=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Se,{image:Ie.a},r.a.createElement(Ae,null)))},_e=function(e){e?Ee.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete Ee.a.defaults.headers.common.Authorization},Ue=a(98),He=(a(140),{bands:{text:"Bands",icon:r.a.createElement("i",{className:"fas fa-users"}),path:"bands"},setlist:{text:"Setlists",icon:r.a.createElement("i",{className:"fas fa-list"}),path:"setlists"}}),Re=(a(85),function(e){var t=e.children,a=e.text,n=e.path,l=Object(o.g)(),c=Object(o.h)().pathname.match(n);return r.a.createElement("div",{className:"row selectable ".concat(c?"selected":""),style:{padding:"10px"},onClick:function(){return l.push("/".concat(n))}},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-sm-1"},t),r.a.createElement("div",{className:"col"},r.a.createElement("span",{className:"h6"},a)))))}),Ge=function(){return r.a.createElement("div",{className:"col "},r.a.createElement("div",{className:"center image-centerd"},r.a.createElement("img",{className:"animated fast sidebar-logo rubberBand",src:ce.a,alt:"logo",style:{height:"".concat(100,"px"),width:"".concat(100,"px"),marginTop:"20px"}})),r.a.createElement("h5",{className:"center"},r.a.createElement("strong",null,"SETLIST HERO")))},qe=Object(ae.b)({user:ne}),Ye=Object(m.b)(qe,(function(e){return{logout:function(){return e(re())}}}))(Object(o.j)((function(){var e=Object.keys(He).map((function(e,t){var a=He[e],n=a.text,l=a.icon,c=a.path;return r.a.createElement(Re,{key:t,text:n,path:c},l)}));return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(Ge,null)),r.a.createElement("hr",{style:{margin:"5px"}}),e,r.a.createElement("div",{className:"spacer-lg"}),r.a.createElement("span",{className:"center"},r.a.createElement("button",{className:"btn btn-primary text-light",onClick:function(){re(),O.a.remove("jwt"),window.location.href="/"}},r.a.createElement("i",{className:"fas fa-sign-out-alt"})," Logout")))}))),Pe=w.FETCH_BANDS_SUCCESS,ze=w.FETCH_BANDS_FAILURE,Ve=w.SELECT_BAND,We=function(e){return{type:Pe,payload:e}},Je=function(e){return{type:ze,payload:e}},Qe=function(e){return{type:Ve,payload:e}},$e=function(e){return e.band},Ze=Object(ae.a)([$e],(function(e){return e.bands})),Ke=Object(ae.a)([$e],(function(e){return e.selectedBand})),Xe=a(34),et=a(23),tt=a(38),at=a(37),nt=ve.api,rt=function(){function e(t){Object(me.a)(this,e),this.resource=t,this.resourceUrl="".concat(nt,"/").concat(this.resource)}return Object(de.a)(e,[{key:"create",value:function(){var e=Object(ue.a)(ie.a.mark((function e(t){var a,n,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.post(this.resourceUrl,t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:if(e.prev=7,e.t0=e.catch(0),500!==(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.status)){e.next=13;break}throw new Error("Something happened");case 13:throw r=e.t0.response.data,null===r||void 0===r?void 0:r.errors;case 16:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(ue.a)(ie.a.mark((function e(t){var a,n,r,l,c,s,o,i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.get("".concat(this.resourceUrl,"/").concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:if(e.prev=7,e.t0=e.catch(0),r=null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.status,500!==(l=r.status)){e.next=14;break}throw new Error("Something happened");case 14:if(404!==l&&401!==l){e.next=20;break}throw s=e.t0.response.data,o=null===s||void 0===s||null===(c=s.errors[0])||void 0===c?void 0:c.msg,new Error(o);case 20:throw i=e.t0.response.data,null===i||void 0===i?void 0:i.errors;case 23:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(ue.a)(ie.a.mark((function e(t){var a,n,r,l,c,s;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,n=t.id,e.prev=1,e.next=4,Ee.a.get("".concat(this.resourceUrl,"/?").concat(a,"=").concat(n));case 4:return r=e.sent,e.abrupt("return",r.data);case 8:if(e.prev=8,e.t0=e.catch(1),500!==(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l?void 0:l.status)){e.next=14;break}throw new Error("Something happened");case 14:throw null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c||null===(s=c.data)||void 0===s?void 0:s.errors;case 16:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(ue.a)(ie.a.mark((function e(t,a){var n,r,l,c,s,o,i,u,m;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.put("".concat(this.resourceUrl,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:if(e.prev=7,e.t0=e.catch(0),l=null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status,500!==(c=l.status)){e.next=14;break}throw new Error("Something happened");case 14:if(404!==c&&401!==c){e.next=20;break}throw o=e.t0.response.data,i=null===o||void 0===o||null===(s=o.errors[0])||void 0===s?void 0:s.msg,new Error(i);case 20:throw null===e.t0||void 0===e.t0||null===(u=e.t0.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.errors;case 22:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(ue.a)(ie.a.mark((function e(t){var a,n,r,l,c,s,o;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.delete("".concat(this.resourceUrl,"/").concat(t));case 3:return e.abrupt("return","Deletion succeed");case 6:if(e.prev=6,e.t0=e.catch(0),n=null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status,500!==(r=n.status)){e.next=13;break}throw new Error("Something happened");case 13:if(404!==r&&401!==r){e.next=19;break}throw c=e.t0.response.data,s=null===c||void 0===c||null===(l=c.errors[0])||void 0===l?void 0:l.msg,new Error(s);case 19:throw o=e.t0.response.data,null===o||void 0===o?void 0:o.errors;case 22:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),lt=new(function(e){Object(tt.a)(a,e);var t=Object(at.a)(a);function a(){return Object(me.a)(this,a),t.call(this,"band")}return Object(de.a)(a,[{key:"getAll",value:function(){var e=Object(ue.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Xe.a)(Object(et.a)(a.prototype),"getAll",this).call(this,{query:"manager",id:t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(rt)),ct=a(10),st=a(32),ot=a(4),it=a(12),ut=a(36),mt=function(e){var t=e.isDialogDisplaying,a=e.setIsDialogDisplaying,n=e.setGlobalFilter,l=e.buttonText;return r.a.createElement("div",{style:{paddingTop:"2vh"}},r.a.createElement("div",{className:"d-flex justify-content-start"},r.a.createElement("div",{style:{paddingBottom:"1vh",paddingLeft:"0.5vw"}},r.a.createElement(it.a,{active:t,variant:"secondary",onClick:function(){return a(!0)}},r.a.createElement("span",{className:"text-light"},r.a.createElement("i",{className:"fas fa-plus-square"})," ".concat(l)))),r.a.createElement("div",{style:{paddingLeft:"50vw"}},r.a.createElement(ut.InputText,{type:"search",placeholder:"Search",onInput:function(e){return n(e.target.value)}}))))},dt=a(43),bt=a(33),Et=function(e){return{type:"SHOW_MESSAGE",message:e}},ft=function(e){return e?r.a.createElement("div",{className:"my-multiselected-item-token"},e):r.a.createElement("span",null,"Select genre")},vt=[{label:"Rock",value:"Rock"},{label:"Metal",value:"Metal"},{label:"Pop",value:"Pop"},{label:"Cumbias",value:"Cumbias"},{label:"Norte\xf1as",value:"Norte\xf1as"}],pt=ve.api,gt=Object(ae.b)({user:ne,bands:Ze}),ht=Object(m.b)(gt,(function(e){return{fetchBands:function(t){return e(We(t))},showMessage:function(t){return e(Et(t))}}}))((function(e){var t=e.user,a=e.callback,l=e.fetchBands,c=e.bands,o=e.showMessage,i=Object(n.useState)(""),u=Object(s.a)(i,2),m=u[0],d=u[1],b=Object(n.useState)(void 0),E=Object(s.a)(b,2),f=E[0],v=E[1],p=Object(n.useState)(""),h=Object(s.a)(p,2),y=h[0],O=h[1],j=Object(n.useState)(""),N=Object(s.a)(j,2),S=N[0],w=N[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={name:y,description:S,genres:m,manager:t.id,logo:f};lt.create(n).then((function(e){var t=c.concat(Object(g.a)(Object(g.a)({},e),{},{genres:e.genres.join(", "),active:n.active?"Active":"Inactive"}));a(),l(t),o({severity:"success",summary:"Success",detail:"Band Created"})})).catch((function(e){o({severity:"error",summary:"Error Message",detail:"Couldn't create band"})}))}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-5"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6",htmlFor:"create-band-profile-pic"},r.a.createElement("strong",null,"Upload band logo")),r.a.createElement("div",null,r.a.createElement(dt.FileUpload,{name:"data",id:"create-band-profile-pic",multiple:!1,auto:!0,url:"".concat(pt,"/storage/upload/image"),onUpload:function(e){o({severity:"success",summary:"Success",detail:"File Uploaded"});var t=JSON.parse(e.xhr.response);v(t.downloadUrl)},accept:"image/*",maxFileSize:1e6}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6"},"Profile selected:"),f&&r.a.createElement("img",{className:"animated faster fadeIn rounded",src:f,alt:"band logo",style:{Left:"10px",height:"100px",width:"100px"}}))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6",htmlFor:"band-name"},r.a.createElement("strong",null,"Band name")),r.a.createElement("input",{type:"text",className:"form-control",id:"band-name",onChange:function(e){return O(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6",htmlFor:"band-description"},r.a.createElement("strong",null,"Band description")),r.a.createElement("textarea",{className:"form-control",id:"band-description",rows:"3",onChange:function(e){return w(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"h6 col",htmlFor:"band-genres"},r.a.createElement("strong",null,"Band genres"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(bt.MultiSelect,{style:{width:"70%",minWidth:"12em"},maxSelectedLabels:10,placeholder:"Select genres",optionLabel:"label",optionValue:"value",id:"Band-genres",value:m,options:vt,onChange:function(e){return d(e.value)},selectedItemTemplate:ft})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"}),r.a.createElement("div",{className:"col",style:{paddingLeft:"57px"}},r.a.createElement(it.a,{variant:"success",type:"submit"},"Save")," ",r.a.createElement(it.a,{variant:"secondary",onClick:a},"Close")))))))})),yt=Object(ae.b)({bands:Ze}),Ot=Object(m.b)(yt,(function(e){return{fetchBandsSuccess:function(t){return e(We(t))},fetchBandsFailure:function(t){return e(Je(t))},selectBand:function(t){return e(Qe(t))}}}))((function(e){var t=e.bands,a=e.selectBand,l=Object(n.useState)(null),c=Object(s.a)(l,2),i=c[0],u=c[1],m=Object(n.useState)(!1),d=Object(s.a)(m,2),b=d[0],E=d[1],f=Object(n.useState)(null),v=Object(s.a)(f,2),p=v[0],g=(v[1],Object(o.g)());return r.a.createElement(r.a.Fragment,null,r.a.createElement(ot.a,{size:"xl",show:b,onHide:function(){return E(!1)},dialogClassName:"modal-dialog-centered","aria-labelledby":"modal-title",onExiting:function(){return E(!1)}},r.a.createElement(ot.a.Header,{closeButton:!0},r.a.createElement(ot.a.Title,{id:"modal-title"},"Create a band")),r.a.createElement(ot.a.Body,null,r.a.createElement(ht,{callback:function(){E(!1)}}),r.a.createElement("div",{className:"spacer"})),r.a.createElement(ot.a.Footer,null)),r.a.createElement(st.DataTable,{className:"animated faster fadeIn",header:r.a.createElement(mt,{buttonText:"Add band",isDialogDisplaying:b,setGlobalFilter:u,setIsDialogDisplaying:E}),value:t,scrollable:!0,scrollHeight:"40vh",globalFilter:i,sortField:"name",selectionMode:"single",sortOrder:1,selection:p,onSelectionChange:function(e){a(e.value),g.push("/bands/".concat(e.value.id))}},r.a.createElement(ct.Column,{field:"name",header:"Name",sortable:!0,style:{textAlign:"center"}}),r.a.createElement(ct.Column,{style:{width:"50%"},field:"description",header:"Description",sortable:!0}),r.a.createElement(ct.Column,{style:{width:"25%"},field:"genres",header:"Genres",sortable:!0}),r.a.createElement(ct.Column,{field:"active",header:"Active",style:{textAlign:"center"}})))})),jt=function(e){var t=e.title,a=e.children,n=e.className;return r.a.createElement("div",{className:n},r.a.createElement("span",{className:"h2"},r.a.createElement("strong",null,t)),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("p",{className:"h4 text-primary"},r.a.createElement("strong",null,a)))},Nt=function(){return r.a.createElement("div",{className:"container-fluid",style:{padding:"20px"}},r.a.createElement(je.a,{className:"shadowed",style:{padding:"20px"}},r.a.createElement(je.a.Body,null,r.a.createElement(jt,{className:"animated faster fadeIn",title:"Your Bands"},"Organize your bands"),r.a.createElement("hr",null),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement(Ot,null))))},St=a(44),wt=Object(ae.b)({selectedBand:Ke}),Ct=Object(m.b)(wt)((function(e){var t=e.className,a=e.selectedBand,n=a.name,l=a.logo,c=a.description,s=a.genres.split(",").map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("span",{className:"h6",key:t},r.a.createElement(St.a,{variant:"secondary",style:{padding:"6px"}},e))," ")}));return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement("img",{src:l,className:"rounded",alt:n,style:{height:"".concat(150,"px"),width:"".concat(150,"px")}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("span",{className:"h3"},r.a.createElement("strong",null,n)),r.a.createElement("div",{className:"spacer-sm"}),r.a.createElement("p",{className:"text-white"},c),r.a.createElement("div",null,s)))))})),xt=a(35),kt=P.FETCH_EVENTS,Ft=P.SELECT_EVENT,Tt=function(e){return{type:kt,payload:e}},Bt=function(e){return{type:Ft,payload:e}},Dt=function(e){return e.event},At=Object(ae.a)([Dt],(function(e){return e.events})),Mt=Object(ae.a)([Dt],(function(e){return e.selectecEvent})),It=new(function(e){Object(tt.a)(a,e);var t=Object(at.a)(a);function a(){return Object(me.a)(this,a),t.call(this,"event")}return Object(de.a)(a,[{key:"eventsByBand",value:function(){var e=Object(ue.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Xe.a)(Object(et.a)(a.prototype),"getAll",this).call(this,{query:"band",id:t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eventsByLED",value:function(){var e=Object(ue.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Xe.a)(Object(et.a)(a.prototype),"getAll",this).call(this,{query:"designer",id:t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(rt)),Lt=a(56),_t=a(45),Ut=a(22),Ht=a(46),Rt=a.n(Ht),Gt=Object(ae.b)({events:At,band:Ke}),qt=Object(m.b)(Gt,(function(e){return{showMessage:function(t){return e(Et(t))},fetchEvents:function(t){return e(Tt(t))}}}))((function(e){var t=e.band,a=e.callback,l=e.showMessage,c=e.events,o=e.fetchEvents,i=Object(n.useState)(null),u=Object(s.a)(i,2),m=u[0],d=u[1],b=Object(n.useState)([]),E=Object(s.a)(b,2),f=E[0],v=E[1],p=Object(n.useState)(""),h=Object(s.a)(p,2),y=h[0],O=h[1],j=Object(n.useState)(""),N=Object(s.a)(j,2),S=N[0],w=N[1],C=Object(n.useState)(""),x=Object(s.a)(C,2),k=x[0],F=x[1],T=Object(n.useState)(""),B=Object(s.a)(T,2),D=B[0],A=B[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={band:t.id,date:new Date(m),tags:f,tour:y,name:S,location:k,designer:D};It.create(n).then((function(e){return a(),l({severity:"success",summary:"Success",detail:"Event added"}),Object(g.a)(Object(g.a)({},e),{},{date:Rt()(e.date).format("MMM Do YYYY")})})).then((function(e){return o(c.concat(e))})).catch((function(e){l({severity:"error",summary:"Error Message",detail:"Couldn't add event"})}))}},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col mb-3"},r.a.createElement("label",{htmlFor:"event-name"},"Event Name"),r.a.createElement("input",{type:"text",className:"form-control",id:"event-name",required:!0,value:S,onChange:function(e){return w(e.target.value)}}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col mb-3"},r.a.createElement("label",{htmlFor:"event-location"},"Location"),r.a.createElement("input",{type:"text",className:"form-control",id:"event-location",required:!0,value:k,onChange:function(e){return F(e.target.value)}}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col mb-3"},r.a.createElement("label",{htmlFor:"event-tour"},"Tour"),r.a.createElement("div",null,r.a.createElement(Ut.Dropdown,{id:"event-tour",value:y,options:[{label:"No tour",value:"no-tour"}],onChange:function(e){return O(e.value)},style:{width:"12em"},editable:!0,placeholder:"Select if tour"}))),r.a.createElement("div",{className:"col mb-3"},r.a.createElement("label",{htmlFor:"event-designer"},"Designer"),r.a.createElement("input",{type:"email",className:"form-control",id:"event-designer",required:!0,value:D,onChange:function(e){return A(e.target.value)}}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col mb-3"},r.a.createElement("label",{htmlFor:"event-date"},"Event Date"),r.a.createElement("div",null,r.a.createElement(Lt.Calendar,{id:"event-date",value:m,onChange:function(e){return d(e.value)},showButtonBar:!0}))),r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"event-tags "},"Tags"),r.a.createElement("div",null,r.a.createElement(_t.Chips,{value:f,onChange:function(e){return v(e.value)},separator:","})))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-5"}),r.a.createElement("div",{className:"col",style:{paddingLeft:"85px"}},r.a.createElement("button",{type:"submit",className:"btn btn-success mb-2"},"Create event")," ",r.a.createElement("button",{type:"button",className:"btn btn-secondary mb-2",onClick:a},"Cancel"))))})),Yt=Object(ae.b)({events:At,band:Ke}),Pt=Object(m.b)(Yt,(function(e){return{showMessage:function(t){return e(Et(t))},fetchEvents:function(t){return e(Tt(t))}}}))((function(e){var t=e.band,a=e.callback,l=e.showMessage,c=e.events,o=e.fetchEvents,i=e.event,u=Object(n.useState)(new Date(i.date)),m=Object(s.a)(u,2),d=m[0],b=m[1],E=Object(n.useState)(i.tags),f=Object(s.a)(E,2),v=f[0],p=f[1],h=Object(n.useState)(i.tour),y=Object(s.a)(h,2),O=y[0],j=y[1],N=Object(n.useState)(i.tour),S=Object(s.a)(N,2),w=S[0],C=S[1],x=Object(n.useState)(i.location),k=Object(s.a)(x,2),F=k[0],T=k[1],B=Object(n.useState)(i.designer),D=Object(s.a)(B,2),A=D[0],M=D[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={band:t.id,date:new Date(d),tags:v,tour:O,name:w,location:F,designer:A};It.update(i.id,n).then((function(e){return a(),l({severity:"success",summary:"Success",detail:"Event updated"}),e})).then((function(e){return o(c.map((function(t){return t.id===i.id?Object(g.a)(Object(g.a)({},e),{},{date:Rt()(e.date).format("MMM Do YYYY")}):t})))})).catch((function(e){l({severity:"error",summary:"Error Message",detail:"Couldn't update event"})}))}},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col mb-3"},r.a.createElement("label",{htmlFor:"edit-event-name"},"Event Name"),r.a.createElement("input",{type:"text",className:"form-control",id:"edit-event-name",required:!0,value:w,onChange:function(e){return C(e.target.value)}}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col mb-3"},r.a.createElement("label",{htmlFor:"edit-event-location"},"Location"),r.a.createElement("input",{type:"text",className:"form-control",id:"edit-event-location",required:!0,value:F,onChange:function(e){return T(e.target.value)}}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col mb-3"},r.a.createElement("label",{htmlFor:"edit-event-tour"},"Tour"),r.a.createElement("div",null,r.a.createElement(Ut.Dropdown,{id:"edit-event-tour",value:O,options:[{label:"No tour",value:"no-tour"}],onChange:function(e){return j(e.value)},style:{width:"12em"},editable:!0,placeholder:"Select if tour"}))),r.a.createElement("div",{className:"col mb-3"},r.a.createElement("label",{htmlFor:"edit-event-designer"},"Designer"),r.a.createElement("input",{type:"email",className:"form-control",id:"edit-event-designer",required:!0,value:A,onChange:function(e){return M(e.target.value)}}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col mb-3"},r.a.createElement("label",{htmlFor:"edit-event-date"},"Event Date"),r.a.createElement("div",null,r.a.createElement(Lt.Calendar,{id:"edit-event-date",value:d,onChange:function(e){return b(e.value)},showButtonBar:!0}))),r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"edit-event-tags "},"Tags"),r.a.createElement("div",null,r.a.createElement(_t.Chips,{value:v,onChange:function(e){return p(e.value)},separator:","})))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-5"}),r.a.createElement("div",{className:"col",style:{paddingLeft:"85px"}},r.a.createElement("button",{type:"submit",className:"btn btn-success mb-2"},"Edit event")," ",r.a.createElement("button",{type:"button",className:"btn btn-secondary mb-2",onClick:a},"Cancel"))))})),zt=function(e,t){return e.tags.length?e.tags.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("span",{className:"h6",key:t},r.a.createElement(St.a,{variant:"primary",style:{padding:"6px"}},e))," ")})):"No tags"},Vt=Object(ae.b)({events:At,band:Ke}),Wt=Object(m.b)(Vt,(function(e){return{showMessage:function(t){return e(Et(t))},fetchEvents:function(t){return e(Tt(t))}}}))((function(e){var t=e.band,a=e.events,l=e.fetchEvents,c=e.showMessage,o=Object(n.useState)(null),i=Object(s.a)(o,2),u=i[0],m=i[1],d=Object(n.useState)(!1),b=Object(s.a)(d,2),E=b[0],f=b[1],v=Object(n.useState)(!1),p=Object(s.a)(v,2),h=p[0],y=p[1],O=Object(n.useState)(null),j=Object(s.a)(O,2),N=j[0],S=j[1],w=Object(n.useState)(!1),C=Object(s.a)(w,2),x=C[0],k=C[1],F=Object(n.useState)(null),T=Object(s.a)(F,2),B=T[0],D=T[1];Object(n.useEffect)((function(){It.eventsByBand(t.id).then((function(e){var t=e.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{date:Rt()(e.date).format("MMM Do YYYY")})}));l(t)})).catch((function(e){c({severity:"error",summary:"Error Message",detail:"Couldn't fetch events"})}))}),[]);var A=r.a.createElement(ot.a,{show:x,onHide:function(){return k(!1)},dialogClassName:"modal-dialog-centered","aria-labelledby":"modal-title",onExiting:function(){return k(!1)}},r.a.createElement(ot.a.Header,{closeButton:!0},r.a.createElement(ot.a.Title,{id:"modal-title"},"Edit event")),r.a.createElement(ot.a.Body,null,r.a.createElement(Pt,{event:B,callback:function(){return k(!1)}})),r.a.createElement(ot.a.Footer,null)),M=r.a.createElement(ot.a,{show:h,onHide:function(){return y(!1)},centered:!0},r.a.createElement(ot.a.Header,{closeButton:!0},r.a.createElement(ot.a.Title,null,"Confirm deletion")),r.a.createElement(ot.a.Body,null,"You are about to delete ".concat(null===N||void 0===N?void 0:N.name," are you sure?")),r.a.createElement(ot.a.Footer,null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){It.delete(N.id).then((function(){c({severity:"success",summary:"Success",detail:"Event deleted"}),y(!1),l(a.filter((function(e){return e.id!==N.id}))),S(null)})).catch((function(){c({severity:"error",summary:"Error Message",detail:"Couldn't delete event"}),y(!1)}))}},"Delete"),r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return y(!1)}},"Close")));return r.a.createElement(r.a.Fragment,null,M,A,r.a.createElement(ot.a,{show:E,onHide:function(){return f(!1)},dialogClassName:"modal-dialog-centered","aria-labelledby":"modal-title",onExiting:function(){return f(!1)}},r.a.createElement(ot.a.Header,{closeButton:!0},r.a.createElement(ot.a.Title,{id:"modal-title"},"Add event")),r.a.createElement(ot.a.Body,null,r.a.createElement(qt,{callback:function(){return f(!1)}}))),r.a.createElement(st.DataTable,{className:"animated faster fadeIn",header:r.a.createElement(mt,{buttonText:"Add event",isDialogDisplaying:E,setGlobalFilter:m,setIsDialogDisplaying:f}),scrollable:!0,scrollHeight:"40vh",value:a,globalFilter:u,sortField:"name",selectionMode:"single"},r.a.createElement(ct.Column,{field:"name",header:"Name",sortable:!0}),r.a.createElement(ct.Column,{field:"date",header:"Date",sortable:!0,style:{width:"15%",textAlign:"center"}}),r.a.createElement(ct.Column,{field:"location",header:"Location",sortable:!0}),r.a.createElement(ct.Column,{field:"designer",header:"Designer",sortable:!0}),r.a.createElement(ct.Column,{field:"tags",header:"Tags",sortable:!0,body:zt}),r.a.createElement(ct.Column,{body:function(e){return r.a.createElement(xt.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-secondary",onClick:function(){return D(e),void k(!0)}})},headerStyle:{width:"4em",textAlign:"center"},bodyStyle:{textAlign:"center",overflow:"visible"}}),r.a.createElement(ct.Column,{body:function(e){return r.a.createElement(xt.Button,{type:"button",icon:"pi pi-trash",className:"p-button-secondary",onClick:function(){return S(e),void y(!0)}})},headerStyle:{width:"4em",textAlign:"center"},bodyStyle:{textAlign:"center",overflow:"visible"}})))})),Jt=D.FETCH_MUSICIANS_FAILURE,Qt=D.FETCH_MUSICIANS_SUCCESS,$t=function(e){return{type:Qt,payload:e}},Zt=Object(ae.a)([function(e){return e.musician}],(function(e){return e.musicians})),Kt=new(function(e){Object(tt.a)(a,e);var t=Object(at.a)(a);function a(){return Object(me.a)(this,a),t.call(this,"musician")}return Object(de.a)(a,[{key:"getAll",value:function(){var e=Object(ue.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Xe.a)(Object(et.a)(a.prototype),"getAll",this).call(this,{query:"band",id:t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(rt)),Xt=[{label:"Voice",value:"Voice"},{label:"Guitar",value:"Guitar"},{label:"Bass",value:"Bass"},{label:"Drums",value:"Drums"}],ea=Object(ae.b)({selectedBand:Ke,musicians:Zt}),ta=Object(m.b)(ea,(function(e){return{fetchMusicians:function(t){return e($t(t))},showMessage:function(t){return e(Et(t))}}}))((function(e){var t=e.callback,a=e.selectedBand,l=e.musicians,c=e.fetchMusicians,o=e.showMessage,i=Object(n.useState)(""),u=Object(s.a)(i,2),m=u[0],d=u[1],b=Object(n.useState)(""),E=Object(s.a)(b,2),f=E[0],v=E[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={instrument:m,email:f,band:a.id};Kt.create(n).then((function(e){return setTimeout(t,1e3),o({life:650,severity:"success",summary:"Success",detail:"Member added"}),Kt.getById(e.id)})).then((function(e){var t=e.band,a=e.instrument,n=e.id,r=e.email,l=e.user;return{band:t,instrument:a,email:r,id:n,status:l?"Active":"Pending",username:null===l||void 0===l?void 0:l.username,name:null===l||void 0===l?void 0:l.displayName}})).then((function(e){return c(l.concat(e))})).catch((function(e){o({severity:"error",summary:"Error Message",detail:"Couldn't add member"})}))}},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputEmail3",className:"col-sm-3 col-form-label h6"},"Email"),r.a.createElement("div",{class:"col-sm-9"},r.a.createElement("input",{value:f,onChange:function(e){return v(e.target.value)},type:"email",className:"form-control",id:"inputEmail3"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"member-instrument",className:"col-sm-3 col-form-label h6"},"Instrument"),r.a.createElement("div",{class:"col-sm-9"},r.a.createElement(Ut.Dropdown,{options:Xt,value:m,onChange:function(e){return d(e.value)},placeholder:"Select an instrument",id:"member-instrument"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-7"}),r.a.createElement("div",{className:"col",style:{paddingLeft:"43px"}},r.a.createElement("button",{type:"submit",className:"btn btn-success mb-2"},"Submit")," ",r.a.createElement("button",{type:"button",className:"btn btn-secondary mb-2",onClick:t},"Cancel")))))})),aa=Object(ae.b)({musicians:Zt,band:Ke}),na=Object(m.b)(aa,(function(e){return{fetchMusicians:function(t){return e($t(t))},fetchFailure:function(t){return e(function(e){return{type:Jt,payload:e}}(t))},showMessage:function(t){return e(Et(t))}}}))((function(e){var t=e.musicians,a=e.fetchMusicians,l=e.band,c=e.fetchFailure,o=e.showMessage,i=Object(n.useState)(null),u=Object(s.a)(i,2),m=u[0],d=u[1],b=Object(n.useState)(!1),E=Object(s.a)(b,2),f=E[0],v=E[1],p=Object(n.useState)(!1),g=Object(s.a)(p,2),h=g[0],y=g[1],O=Object(n.useState)(!1),j=Object(s.a)(O,2),N=j[0],S=j[1],w=Object(n.useState)(null),C=Object(s.a)(w,2),x=C[0],k=C[1],F=Object(n.useState)(""),T=Object(s.a)(F,2),B=T[0],D=T[1];Object(n.useEffect)((function(){Kt.getAll(l.id).then((function(e){var t=e.map((function(e){var t=e.band,a=e.instrument,n=e.email,r=e.id,l=e.user;return{band:t,instrument:a,email:n,id:r,status:l?"Active":"Pending",username:null===l||void 0===l?void 0:l.username,name:null===l||void 0===l?void 0:l.displayName}}));a(t)})).catch((function(e){c(e)}))}),[]);var A=r.a.createElement(ot.a,{show:h,onHide:function(){return y(!1)},centered:!0},r.a.createElement(ot.a.Header,{closeButton:!0},r.a.createElement(ot.a.Title,null,"Confirm deletion")),r.a.createElement(ot.a.Body,null,"You are about to delete ".concat(null===x||void 0===x?void 0:x.username," are you sure?")),r.a.createElement(ot.a.Footer,null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){Kt.delete(x.id).then((function(e){a(t.filter((function(e){return e.id!==x.id}))),k(null),o({severity:"success",summary:"Success",detail:"Member deleted"}),y(!1)})).catch((function(){o({severity:"error",summary:"Error Message",detail:"Couldn't delete member"}),y(!1)}))}},"Delete"),r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return y(!1)}},"Close"))),M=r.a.createElement(ot.a,{show:N,onHide:function(){return S(!1)},centered:!0},r.a.createElement(ot.a.Header,{closeButton:!0},r.a.createElement(ot.a.Title,null,"Confirm update")),r.a.createElement(ot.a.Body,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("strong",null,"You can only edit ".concat(null===x||void 0===x?void 0:x.username,"'s instrument"))),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("label",{htmlFor:"member-instrument",className:"col-sm-3 col-form-label h6"},"Instrument"),r.a.createElement("div",{class:"col-sm-9"},r.a.createElement(Ut.Dropdown,{options:Xt,value:B,onChange:function(e){return D(e.value)},placeholder:"Select an instrument"})))))),r.a.createElement(ot.a.Footer,null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){Kt.update(x.id,{instrument:B}).then((function(e){a(t.map((function(e){var t=e.band,a=e.email,n=e.id,r=e.status,l=e.username,c=e.name;return x.id===n?{band:t,email:a,id:n,status:r,username:l,name:c,instrument:[B[0].toUpperCase(),B.slice(1)].join("")}:e}))),o({severity:"success",summary:"Success",detail:"Member edited!"}),S(!1),k(null)})).catch((function(){o({severity:"error",summary:"Error Message",detail:"Couldn't edit member"}),S(!1)}))}},"Edit"),r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return S(!1)}},"Close")));return r.a.createElement(r.a.Fragment,null,A,M,r.a.createElement(ot.a,{show:f,onHide:function(){return v(!1)},dialogClassName:"modal-90w","aria-labelledby":"modal-title",centered:!0,onExiting:function(){return v(!1)}},r.a.createElement(ot.a.Header,{closeButton:!0},r.a.createElement(ot.a.Title,{id:"modal-title"},"Add band member")),r.a.createElement(ot.a.Body,null,r.a.createElement(ta,{callback:function(){return v(!1)}})),r.a.createElement(ot.a.Footer,null)),r.a.createElement(st.DataTable,{id:"band-members-table",value:t,className:"animated faster fadeIn ",resizableColumns:!0,header:r.a.createElement(mt,{buttonText:"Add member",isDialogDisplaying:f,setGlobalFilte:d,setIsDialogDisplaying:v}),scrollable:!0,scrollHeight:"40vh",globalFilter:m,sortField:"name",selectionMode:"single"},r.a.createElement(ct.Column,{field:"name",header:"Name",sortable:!0,style:{width:"25%",textAlign:"center"}}),r.a.createElement(ct.Column,{field:"username",header:"Username",sortable:!0,style:{width:"13%",textAlign:"center"}}),r.a.createElement(ct.Column,{field:"email",header:"Email",sortable:!0,style:{textAlign:"center"}}),r.a.createElement(ct.Column,{field:"instrument",header:"Instrument",sortable:!0,style:{width:"13%",textAlign:"center"}}),r.a.createElement(ct.Column,{field:"status",header:"Status",style:{width:"15%",textAlign:"center"},sortable:!0}),r.a.createElement(ct.Column,{body:function(e){return r.a.createElement(xt.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-secondary",onClick:function(){return k(e),void S(!0)}})},headerStyle:{width:"4em",textAlign:"center"},bodyStyle:{textAlign:"center",overflow:"visible"}}),r.a.createElement(ct.Column,{body:function(e){return r.a.createElement(xt.Button,{type:"button",icon:"pi pi-trash",className:"p-button-secondary",onClick:function(){return k(e),void y(!0)}})},headerStyle:{width:"4em",textAlign:"center"},bodyStyle:{textAlign:"center",overflow:"visible"}})))})),ra=_.FETCH_SONGS,la=_.SELECT_SONG,ca=function(e){return{type:ra,payload:e}},sa=function(e){return{type:la,payload:e}},oa=function(e){return e.song},ia=Object(ae.a)([oa],(function(e){return e.song})),ua=Object(ae.a)([oa],(function(e){return e.songs})),ma=new(function(e){Object(tt.a)(a,e);var t=Object(at.a)(a);function a(){return Object(me.a)(this,a),t.call(this,"song")}return Object(de.a)(a,[{key:"getAll",value:function(){var e=Object(ue.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Xe.a)(Object(et.a)(a.prototype),"getAll",this).call(this,{query:"band",id:t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(rt)),da=Object(ae.b)({songs:ua,selectedBand:Ke}),ba=Object(m.b)(da,(function(e){return{fetchSongs:function(t){return e(ca(t))},showMessage:function(t){return e(Et(t))}}}))((function(e){var t=e.callback,a=e.selectedBand,l=e.songs,c=e.fetchSongs,o=Object(n.useState)(""),i=Object(s.a)(o,2),u=i[0],m=i[1],d=Object(n.useState)(null),b=Object(s.a)(d,2),E=b[0],f=b[1],v=Object(n.useState)([]),p=Object(s.a)(v,2),g=p[0],h=p[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={band:a.id,name:u,tempo:E,tags:g};ma.create(n).then((function(e){return t(),Et({severity:"success",summary:"Success",detail:"Song added"}),e})).then((function(e){return c(l.concat(e))})).catch((function(e){Et({severity:"error",summary:"Error Message",detail:"Couldn't add song"})}))}},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"song-name",className:"col-sm-2 col-form-label"},"Name"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{onChange:function(e){return m(e.target.value)},type:"text",className:"form-control",id:"song-name"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"song-tempo",className:"col-sm-2 col-form-label"},"Tempo"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{onChange:function(e){return f(e.target.value)},type:"number",className:"form-control",id:"song-tempo"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"song-tags",className:"col-sm-2 col-form-label"},"Tags"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement(_t.Chips,{value:g,onChange:function(e){return h(e.value)},separator:","}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-6"}),r.a.createElement("div",{className:"col",style:{paddingLeft:"52px"}},r.a.createElement("button",{type:"submit",className:"btn btn-success mb-2"},"Create song")," ",r.a.createElement("button",{type:"button",className:"btn btn-secondary mb-2",onClick:t},"Cancel")))))})),Ea=Object(ae.b)({band:Ke,songs:ua}),fa=Object(m.b)(Ea,(function(e){return{selectSong:function(t){return e(sa(t))},fetchSongs:function(t){return e(ca(t))},showMessage:function(t){return e(Et(t))}}}))((function(e){var t=e.songs,a=e.band,l=e.fetchSongs,c=e.selectSong,i=e.showMessage,u=Object(n.useState)(null),m=Object(s.a)(u,2),d=m[0],b=m[1],E=Object(n.useState)(!1),f=Object(s.a)(E,2),v=f[0],p=f[1],g=Object(n.useState)(!1),h=Object(s.a)(g,2),y=h[0],O=h[1],j=Object(n.useState)(null),N=Object(s.a)(j,2),S=N[0],w=N[1],C=Object(o.g)();Object(n.useEffect)((function(){ma.getAll(a.id).then((function(e){l(e)}))}),[]);var x=r.a.createElement(ot.a,{show:y,onHide:function(){return O(!1)},centered:!0},r.a.createElement(ot.a.Header,{closeButton:!0},r.a.createElement(ot.a.Title,null,"Confirm deletion")),r.a.createElement(ot.a.Body,null,"You are about to delete ".concat(null===S||void 0===S?void 0:S.name," are you sure?")),r.a.createElement(ot.a.Footer,null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){ma.delete(S.id).then((function(){O(!1),l(t.filter((function(e){return e.id!==S.id}))),w(null),i({severity:"success",summary:"Success",detail:"Member deleted"})})).catch((function(){i({severity:"error",summary:"Error Message",detail:"Couldn't delete member"}),O(!1)}))}},"Delete"),r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return O(!1)}},"Close")));return r.a.createElement(r.a.Fragment,null,x,r.a.createElement(ot.a,{show:v,onHide:function(){return p(!1)},dialogClassName:"modal-dialog-centered","aria-labelledby":"modal-title",onExiting:function(){return p(!1)}},r.a.createElement(ot.a.Header,{closeButton:!0},r.a.createElement(ot.a.Title,{id:"modal-title"},"Add song")),r.a.createElement(ot.a.Body,null,r.a.createElement(ba,{callback:function(){return p(!1)}})),r.a.createElement(ot.a.Footer,null)),r.a.createElement(st.DataTable,{value:t,className:"animated faster fadeIn",header:r.a.createElement(mt,{buttonText:"Add song",isDialogDisplaying:v,setGlobalFilter:b,setIsDialogDisplaying:p}),scrollable:!0,scrollHeight:"40vh",globalFilter:d,sortField:"name"},r.a.createElement(ct.Column,{field:"name",header:"Name",sortable:!0}),r.a.createElement(ct.Column,{field:"tags",header:"Tags",body:zt}),r.a.createElement(ct.Column,{field:"tempo",header:"Tempo",sortable:!0}),r.a.createElement(ct.Column,{body:function(e){return r.a.createElement(xt.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-secondary",onClick:function(){return c(t=e),void C.push("/bands/".concat(a.id,"/songs/").concat(t.id));var t}})},headerStyle:{width:"4em",textAlign:"center"},bodyStyle:{textAlign:"center",overflow:"visible"}}),r.a.createElement(ct.Column,{body:function(e){return r.a.createElement(xt.Button,{type:"button",icon:"pi pi-trash",className:"p-button-secondary",onClick:function(){return w(e),void O(!0)}})},headerStyle:{width:"4em",textAlign:"center"},bodyStyle:{textAlign:"center",overflow:"visible"}})))})),va=a(57),pa=[{label:"Lead Guitar",value:"Lead Guitar"},{label:"Bass",value:"Bass"},{label:"Drums",value:"Drums"}],ga=ve.api,ha=Object(ae.b)({song:ia}),ya=Object(m.b)(ha,(function(e){return{selectSong:function(t){return e(sa(t))},showMessage:function(t){return e(Et(t))}}}))((function(e){var t=e.callback,a=e.showMessage,l=e.song,c=e.selectSong,o=Object(n.useState)(""),i=Object(s.a)(o,2),u=i[0],m=i[1],d=Object(n.useState)(""),b=Object(s.a)(d,2),E=b[0],f=b[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=[];n=l.sheets.length?l.sheets.find((function(e){return e.instrument===u}))?l.sheets.map((function(e){return e.instrument===u?{instrument:u,content:E}:e})):l.sheets.concat([{instrument:u,content:E}]):[{instrument:u,content:E}];var r=Object(g.a)(Object(g.a)({},l),{},{sheets:n});ma.update(l.id,r).then((function(e){c(e),a({severity:"success",summary:"Success",detail:"Sheet added!"}),t()})).catch((function(){return a({severity:"error",summary:"Error Message",detail:"Couldn't add sheet"})}))}},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"upload-sheet",className:"col-sm-2 col-form-label"},"Sheets"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement(dt.FileUpload,{name:"data",id:"upload-sheet",multiple:!1,auto:!0,url:"".concat(ga,"/storage/upload/pdf"),onUpload:function(e){a({severity:"success",summary:"Success",detail:"File Uploaded"});var t=JSON.parse(e.xhr.response);f(t.downloadUrl)},accept:"application/pdf"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"sheet-type",className:"col-sm-2 col-form-label"},"Type"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement(Ut.Dropdown,{id:"sheet-type",value:u,options:pa,onChange:function(e){return m(e.value)},style:{width:"12em"},placeholder:"Select sheet type"}))),r.a.createElement("small",null,"Sheet types are only limited by one by instrument"),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-6"}),r.a.createElement("div",{className:"col",style:{paddingLeft:"65px"}},r.a.createElement("button",{type:"submit",className:"btn btn-success mb-2"},"Add sheet")," ",r.a.createElement("button",{type:"button",className:"btn btn-secondary mb-2",onClick:t},"Cancel"))))})),Oa=function(e){var t=e.lyricsCallback,a=e.setGlobalFilter,n=e.chordsCallback,l=e.isLyricsEdition,c=e.isChordsEdition,s=e.setIsDialogDisplaying;return r.a.createElement("div",{style:{paddingTop:"2vh"}},r.a.createElement("div",{className:"d-flex flex-row justify-content-start"},r.a.createElement("div",{style:{paddingBottom:"1vh",marginRight:"1vw"}},r.a.createElement(it.a,{variant:"secondary",onClick:t},r.a.createElement("span",{className:"text-light"},l?r.a.createElement("i",{className:"fas fa-edit"}):r.a.createElement("i",{className:"fas fa-plus-square"})," ".concat(l?"Edit":"Add"," Lyrics")))),r.a.createElement("div",{style:{paddingBottom:"1vh",marginRight:"1vw"}},r.a.createElement(it.a,{variant:"secondary",onClick:n},r.a.createElement("span",{className:"text-light"},c?r.a.createElement("i",{className:"fas fa-edit"}):r.a.createElement("i",{className:"fas fa-plus-square"})," ".concat(c?"Edit":"Add"," Chords")))),r.a.createElement("div",null,r.a.createElement(it.a,{variant:"secondary",onClick:function(){return s(!0)}},r.a.createElement("span",{className:"text-light"},c?r.a.createElement("i",{className:"fas fa-edit"}):r.a.createElement("i",{className:"fas fa-plus-square"}),"Manage sheets"))),r.a.createElement("div",{style:{paddingLeft:"32vw"}},r.a.createElement(ut.InputText,{type:"search",placeholder:"Search",onInput:function(e){return a(e.target.value)}}))))},ja=Object(ae.b)({band:Ke,song:ia}),Na=Object(m.b)(ja)((function(e){var t=e.band,a=e.song,l=Object(n.useState)(!1),c=Object(s.a)(l,2),i=c[0],u=c[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),b=d[0],E=d[1],f=Object(o.g)(),v=r.a.createElement(ot.a,{show:i,onHide:function(){return u(!1)},dialogClassName:"modal-dialog-centered","aria-labelledby":"modal-title",onExiting:function(){return u(!1)}},r.a.createElement(ot.a.Header,{closeButton:!0},r.a.createElement(ot.a.Title,{id:"modal-title"},"Manage sheets")),r.a.createElement(ot.a.Body,null,r.a.createElement(ya,{callback:function(){return u(!1)}})));return r.a.createElement(r.a.Fragment,null,v,r.a.createElement(va.TreeTable,{className:"animated faster fadeIn",value:function(e){var t=e.lyrics,a=e.sheets,n=e.chords,r=[{key:"2-0",data:{name:"No sheets"}}];return a&&(r=a.map((function(e,t){return{key:"2-".concat(t),data:{name:null===e||void 0===e?void 0:e.instrument,type:null===e||void 0===e?void 0:e.instrument,content:null===e||void 0===e?void 0:e.content}}}))),console.log(r),{root:[{key:0,data:{name:"Lyrics",type:"Lyrics",content:t}},{key:1,data:{name:"Chords",type:"Chords",content:n}},{key:2,data:{name:"Sheets",type:"All sheets"},children:r}]}}(a).root,globalFilter:b,scrollable:!0,scrollHeight:"40vh",header:r.a.createElement(Oa,{setGlobalFilter:E,lyricsCallback:function(){f.push("/bands/".concat(t.id,"/songs/").concat(a.id,"/editor/lyrics"))},chordsCallback:function(){f.push("/bands/".concat(t.id,"/songs/").concat(a.id,"/editor/chords"))},isLyricsEdition:a.lyrics,isChordsEdition:a.chords,setIsDialogDisplaying:u})},r.a.createElement(ct.Column,{field:"name",header:"Name",expander:!0}),r.a.createElement(ct.Column,{field:"type",header:"Type"})))})),Sa=a(58),wa=a(47),Ca=r.a.createElement("div",{className:"ql-toolbar"},r.a.createElement("span",{className:"ql-formats"},r.a.createElement("select",{className:"ql-size","aria-label":"Size"})),r.a.createElement("span",{className:"ql-formats"},r.a.createElement("button",{className:"ql-bold","aria-label":"Bold"})," ",r.a.createElement("button",{className:"ql-italic","aria-label":"Italic"})," ",r.a.createElement("button",{className:"ql-underline","aria-label":"Underline"})," "),r.a.createElement("span",{className:"ql-formats"},r.a.createElement("select",{className:"ql-color","aria-label":"Font color"})," ",r.a.createElement("select",{className:"ql-background"})," ")),xa=Object(ae.b)({song:ia}),ka=Object(m.b)(xa,(function(e){return{selectSong:function(t){return e(sa(t))},showMessage:function(t){return e(Et(t))}}}))((function(e){var t,a=e.song,l=e.selectSong,c=e.showMessage,o=Object(n.useState)({}),i=Object(s.a)(o,2),u=i[0],m=i[1],d=Object(n.useState)(new wa.QuillDeltaToHtmlConverter(null===a||void 0===a||null===(t=a.lyrics)||void 0===t?void 0:t.ops).convert()||""),b=Object(s.a)(d,2),E=b[0],f=b[1];return r.a.createElement("div",null,r.a.createElement(Sa.Editor,{style:{height:"41vh"},value:E,headerTemplate:Ca,onTextChange:function(e){return m(e.source.compose(e.delta))}}),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("div",{className:"d-flex flex-row justify-content-start"},r.a.createElement("button",{className:"btn btn-secondary",style:{width:"100px"},onClick:function(){ma.update(a.id,Object(g.a)(Object(g.a)({},a),{},{lyrics:{ops:u.ops}})).then((function(e){var t;l(e),f(new wa.QuillDeltaToHtmlConverter(null===e||void 0===e||null===(t=e.lyrics)||void 0===t?void 0:t.ops).convert()),c({severity:"success",summary:"Success",detail:"Lyrics edition succeded"})})).catch((function(){return c({severity:"error",summary:"Error Message",detail:"Couldn't update lyrics"})}))}},"Save")))})),Fa=r.a.createElement("div",{className:"ql-toolbar"},r.a.createElement("span",{className:"ql-formats"},r.a.createElement("select",{className:"ql-size","aria-label":"Size"})),r.a.createElement("span",{className:"ql-formats"},r.a.createElement("button",{className:"ql-bold","aria-label":"Bold"})," ",r.a.createElement("button",{className:"ql-italic","aria-label":"Italic"})," ",r.a.createElement("button",{className:"ql-underline","aria-label":"Underline"})," "),r.a.createElement("span",{className:"ql-formats"},r.a.createElement("select",{className:"ql-color","aria-label":"Font color"})," ",r.a.createElement("select",{className:"ql-background"})," ")),Ta=Object(ae.b)({song:ia}),Ba=Object(m.b)(Ta,(function(e){return{selectSong:function(t){return e(sa(t))},showMessage:function(t){return e(Et(t))}}}))((function(e){var t,a=e.song,l=e.showMessage,c=e.selectSong,o=Object(n.useState)({}),i=Object(s.a)(o,2),u=i[0],m=i[1],d=Object(n.useState)(new wa.QuillDeltaToHtmlConverter(null===a||void 0===a||null===(t=a.chords)||void 0===t?void 0:t.ops).convert()||""),b=Object(s.a)(d,2),E=b[0],f=b[1];return r.a.createElement("div",null,r.a.createElement(Sa.Editor,{style:{height:"41vh"},value:E,headerTemplate:Fa,onTextChange:function(e){return m(e.source.compose(e.delta))}}),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("div",{className:"d-flex flex-row justify-content-start"},r.a.createElement("button",{className:"btn btn-secondary",style:{width:"100px"},onClick:function(){ma.update(a.id,Object(g.a)(Object(g.a)({},a),{},{chords:{ops:u.ops}})).then((function(e){var t;return c(e),f(new wa.QuillDeltaToHtmlConverter(null===e||void 0===e||null===(t=e.chords)||void 0===t?void 0:t.ops).convert()),l({severity:"success",summary:"Success",detail:"Lyrics edition succeded"}),e})).catch((function(){return l({severity:"error",summary:"Error Message",detail:"Couldn't update chords"})}))}},"Save")))})),Da=function(){return r.a.createElement(o.d,null,r.a.createElement(d,{path:"/bands/:id/songs/:songId/editor/sheet/:sheetName"}),r.a.createElement(d,{path:"/bands/:id/songs/:songId/editor/sheet/new"}),r.a.createElement(d,{path:"/bands/:id/songs/:songId/editor/chords",component:Ba}),r.a.createElement(d,{path:"/bands/:id/songs/:songId/editor/lyrics",component:ka}),r.a.createElement(d,{path:"/bands/:id/songs/:songId",component:Na}))},Aa=function(){return r.a.createElement(o.d,null,r.a.createElement(d,{path:"/bands/:id/songs/:songId",component:Da}),r.a.createElement(d,{path:"/bands/:id/songs",component:fa}))},Ma=ve.api,Ia=function(e,t){var a=t.type,n=t.payload;switch(a){case"update":return{action:"update",message:"Are you sure you want to update ".concat(n)};case"mark_active":return{action:"markActive",message:"You are about to mark ".concat(n," as active. Are you sure?")};case"mark_inactive":return{action:"markInactive",message:"You are about to mark ".concat(n," as inactive. Are you sure?")};default:throw new Error("wrong action type")}},La=Object(ae.b)({user:ne,selectedBand:Ke,bands:Ze}),_a=Object(m.b)(La,(function(e){return{updateSelectedBand:function(t){return e(Qe(t))},fetchBandsSuccess:function(t){return e(We(t))},showMessage:function(t){return e(Et(t))}}}))((function(e){var t=e.user,a=e.selectedBand,l=e.updateSelectedBand,c=e.fetchBandsSuccess,o=e.bands,i=e.showMessage,u=Object(n.useState)(a.genres.split(",").map((function(e){return e.trim()}))),m=Object(s.a)(u,2),d=m[0],b=m[1],E=Object(n.useState)(a.logo),f=Object(s.a)(E,2),v=f[0],p=f[1],h=Object(n.useState)(a.name),y=Object(s.a)(h,2),O=y[0],j=y[1],N=Object(n.useState)(a.description),S=Object(s.a)(N,2),w=S[0],C=S[1],x=Object(n.useState)("Active"===a.active),k=Object(s.a)(x,2),F=k[0],T=k[1],B=Object(n.useState)(!1),D=Object(s.a)(B,2),A=D[0],M=D[1],I=Object(n.useReducer)(Ia,{action:{},message:""}),L=Object(s.a)(I,2),_=L[0],U=L[1],H=function(e){var t=e.target.id;console.log(t),"edit-band-save"===t&&(U({type:"update",payload:O}),M(!0)),"edit-band-mark"===t&&F&&(U({type:"mark_inactive",payload:O}),M(!0)),"edit-band-mark"!==t||F||(U({type:"mark_active",payload:O}),M(!0))},R=r.a.createElement(ot.a,{show:A,onHide:function(){return M(!1)},centered:!0},r.a.createElement(ot.a.Header,{closeButton:!0},r.a.createElement(ot.a.Title,null,"Confirm changes")),r.a.createElement(ot.a.Body,null,_.message),r.a.createElement(ot.a.Footer,null,r.a.createElement(it.a,{variant:"primary",onClick:"update"===_.action?function(e){e.preventDefault();var n={name:O,description:w,genres:d,manager:t.id,logo:v};lt.update(a.id,n).then((function(e){M(!1);var t=Object(g.a)(Object(g.a)({},e),{},{genres:e.genres.join(", ")});return l(t),i({severity:"success",summary:"Success",detail:"Band Updated"}),t})).then((function(e){c(o.concat(e))})).catch((function(e){i({severity:"error",summary:"Error Message",detail:"Couldn't update band"})}))}:function(e){"markActive"===_.action&&lt.update(a.id,{active:!0}).then((function(){T(!0),M(!1);var e=Object(g.a)(Object(g.a)({},a),{},{active:"Active"});return l(e),i({severity:"success",summary:"Success",detail:"Band marked as active"}),e})).then((function(e){c(o.concat(e))})).catch((function(e){i({severity:"error",summary:"Error Message",detail:"Couldn't update band"}),M(!1)})),"markInactive"===_.action&&lt.delete(a.id).then((function(){i({severity:"success",summary:"Success",detail:"Band marked as inactive"}),T(!1);var e=Object(g.a)(Object(g.a)({},a),{},{active:"Inactive"});l(e),M(!1)})).then((function(e){c(o.concat(e))})).catch((function(e){i({severity:"error",summary:"Error Message",detail:"Couldn't update band"}),M(!1)}))}},"Confirm"),r.a.createElement(it.a,{variant:"secondary",onClick:function(){return M(!1)}},"Close")));return r.a.createElement(r.a.Fragment,null,R,r.a.createElement("div",{className:"animated faster fadeIn"},r.a.createElement("form",{style:{paddingLeft:"20px"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-5"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6"},r.a.createElement("strong",null,"Edit band logo")),r.a.createElement(dt.FileUpload,{name:"data",url:"".concat(Ma,"/storage/upload/image"),onUpload:function(e){i({severity:"success",summary:"Success",detail:"File Uploaded"});var t=JSON.parse(e.xhr.response);p(t.downloadUrl)},auto:!0,multiple:!1,accept:"image/*",maxFileSize:1e6}))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6",htmlFor:"band-name"},r.a.createElement("strong",null,"Band name")),r.a.createElement("input",{defaultValue:O,type:"text",className:"form-control",id:"band-name",onChange:function(e){return j(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6",htmlFor:"band-description"},r.a.createElement("strong",null,"Band description")),r.a.createElement("textarea",{className:"form-control",id:"band-description",rows:"3",onChange:function(e){return C(e.target.value)},defaultValue:w})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"h6 col",htmlFor:"band-genres"},r.a.createElement("strong",null,"Band genres"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(bt.MultiSelect,{style:{width:"70%",minWidth:"12em"},maxSelectedLabels:10,placeholder:"Select genres",optionLabel:"label",optionValue:"value",id:"Band-genres",value:d,options:vt,onChange:function(e){return b(e.value)},selectedItemTemplate:ft})))))),r.a.createElement("div",{className:"d-flex flex-row justify-content-end"},r.a.createElement(it.a,{id:"edit-band-save",variant:"success",type:"button",onClick:H,style:{marginRight:"0.5vw"}},"Save"),r.a.createElement(it.a,{id:"edit-band-mark",variant:"secondary",type:"button",onClick:H},"Mark as ".concat(F?"inactive":"active"))))))})),Ua=(a(201),function(e){var t=e.text,a=Object(o.g)(),n=Object(o.h)(),l=Object(o.i)().id,c=n.pathname.match("/bands/".concat(l,"/").concat(t.toLowerCase()));return r.a.createElement("div",{className:"center col tbe-selectable ".concat(c?"tbe-selected":""),onClick:function(){return a.push("/bands/".concat(l,"/").concat(t.toLowerCase()))}},r.a.createElement("h6",null,r.a.createElement("strong",null,t)))}),Ha=["Members","Songs","Events","Edit"].map((function(e,t){return r.a.createElement(Ua,{key:t,text:e})})),Ra=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},Ha))},Ga=Object(ae.b)({selectedBand:Ke}),qa=Object(m.b)(Ga,(function(e){return{selectBand:function(t){return e(Qe(t))}}}))((function(e){var t=e.selectedBand;e.selectBand;return Object(o.i)().id!==t.id?r.a.createElement(o.a,{to:"/bands"}):r.a.createElement("div",{className:"container-fluid animated faster fadeIn",style:{padding:"20px"}},r.a.createElement(je.a,{className:"shadowed",style:{padding:"20px"}},r.a.createElement(je.a.Body,null,r.a.createElement(Ct,null),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(Ra,null))),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(o.d,null,r.a.createElement(d,{path:"/bands/:id/members",component:na}),r.a.createElement(d,{path:"/bands/:id/songs",component:Aa}),r.a.createElement(d,{path:"/bands/:id/events",component:Wt}),r.a.createElement(d,{path:"/bands/:id/edit",component:_a}),r.a.createElement(o.a,{from:"/bands/:id",to:"/bands/:id/members"})))))))})),Ya=Object(ae.b)({bands:Ze,user:ne}),Pa=Object(m.b)(Ya,(function(e){return{fetchBandsSuccess:function(t){return e(We(t))},fetchBandsFailure:function(t){return e(Je(t))},showMessage:function(t){return e(Et(t))}}}))((function(e){var t=e.fetchBandsFailure,a=e.fetchBandsSuccess,l=e.user,c=e.showMessage;return Object(n.useEffect)((function(){lt.getAll(l.id).then((function(e){a(e.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{active:e.active?"Active":"Inactive",genres:e.genres.join(", ")})})))})).catch((function(e){t(e),c({severity:"error",summary:"Error Message",detail:"Couldn't fetch bands try later"})}))}),[]),r.a.createElement(o.d,null,r.a.createElement(d,{path:"/bands/:id",component:qa}),r.a.createElement(d,{component:Nt}))})),za=function(e){var t=e.setGlobalFilter;return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-start"},r.a.createElement("div",{style:{paddingLeft:"5px",width:"300px",paddingTop:"5px"},className:"center"},r.a.createElement("h5",null,r.a.createElement("strong",null,"Events where you are LED"))),r.a.createElement("div",{style:{paddingLeft:"600px"}},r.a.createElement(ut.InputText,{type:"search",placeholder:"Search",onInput:function(e){return t(e.target.value)}}))))},Va=Object(ae.b)({events:At}),Wa=Object(m.b)(Va,(function(e){return{selectEvent:function(t){return e(Bt(t))}}}))((function(e){var t=e.events,a=e.selectEvent,l=Object(n.useState)(null),c=Object(s.a)(l,2),i=c[0],u=c[1],m=Object(o.g)();return r.a.createElement(st.DataTable,{className:"animated faster fadeIn",header:r.a.createElement(za,{setGlobalFilter:u}),scrollable:!0,scrollHeight:"315px",value:t,globalFilter:i,sortField:"name",selectionMode:"single",onSelectionChange:function(e){a(e.value),m.push("/setlists/event/".concat(e.value.id))}},r.a.createElement(ct.Column,{field:"name",header:"Name",sortable:!0}),r.a.createElement(ct.Column,{field:"date",header:"Date",sortable:!0,style:{width:"10%",textAlign:"center"}}),r.a.createElement(ct.Column,{field:"location",header:"Location",sortable:!0}),r.a.createElement(ct.Column,{field:"tags",header:"Tags",sortable:!0,body:zt}))})),Ja=Object(o.j)((function(){return r.a.createElement("div",{className:"container-fluid",style:{padding:"20px"}},r.a.createElement(je.a,{className:"shadowed",style:{padding:"20px"}},r.a.createElement(je.a.Body,null,r.a.createElement(jt,{title:"Your Setlists"},"Organize your setlists"),r.a.createElement("div",{className:"spacer-sm"}),r.a.createElement(Wa,null))))})),Qa=Object(ae.b)({event:Mt}),$a=Object(m.b)(Qa,{})((function(e){var t=e.className,a=e.event,n=a.name,l=a.tour,c=a.date,s=a.tags,o=s.lenght?s.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("span",{className:"h6",key:t},r.a.createElement(St.a,{variant:"secondary",style:{padding:"6px"}},e))," ")})):r.a.createElement(r.a.Fragment,null,"No tags");return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("span",{className:"h3"},r.a.createElement("strong",null,n)),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement("p",{className:"text-primary",style:{marginRight:"15px"}},r.a.createElement("strong",null,"Tour: ".concat(l))),r.a.createElement("p",{className:"text-primary"},r.a.createElement("strong",null,"Date: ".concat(c)))),r.a.createElement("div",null,o)))))})),Za=Object(ae.b)({event:Mt}),Ka=Object(m.b)(Za,(function(e){return{selectEvent:function(t){return e(Bt(t))},showMessage:function(t){return e(Et(t))}}}))((function(e){var t=e.songs,a=e.callback,l=e.event,c=e.selectEvent,o=e.showMessage,i=Object(n.useState)(""),u=Object(s.a)(i,2),m=u[0],d=u[1],b=Object(n.useState)([]),E=Object(s.a)(b,2),f=E[0],v=E[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),It.update(l.id,Object(g.a)(Object(g.a)({},l),{},{setlist:l.setlist.concat([{name:m,songs:f}])})).then((function(e){var t=Object(g.a)(Object(g.a)({},e),{},{date:new Date(e.date).toLocaleDateString()});c(t),a(),o({severity:"success",summary:"Success Message",detail:"Set added successfully"})})).catch((function(e){return o({severity:"error",summary:"Error Message",detail:"Couldn't update setlist"})}))}},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"set-name"},r.a.createElement("strong",null,"Set name")),r.a.createElement("input",{type:"text",id:"set-name",class:"form-control",onChange:function(e){return d(e.target.value)},placeholder:"Set name","aria-describedby":"helpId"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"set-songs"},r.a.createElement("strong",null,"Set songs")),r.a.createElement("div",null,r.a.createElement(bt.MultiSelect,{style:{minWidth:"15em"},id:"set-songs",placeholder:"Set Songs",value:f,onChange:function(e){return v(e.value)},options:t}))),r.a.createElement("div",{className:"d-flex flex-row justify-content-end"},r.a.createElement("div",null,r.a.createElement(it.a,{variant:"success",type:"submit"},"Save")," ",r.a.createElement(it.a,{variant:"secondary",onClick:a},"Close"))))})),Xa=Object(ae.b)({event:Mt}),en=Object(m.b)(Xa,(function(e){return{selectEvent:function(t){return e(Bt(t))},showMessage:function(t){return e(Et(t))}}}))((function(e){var t=e.songs,a=e.callback,l=e.event,c=e.selectEvent,o=e.showMessage,i=Object(n.useState)([]),u=Object(s.a)(i,2),m=u[0],d=u[1],b=Object(n.useState)([]),E=Object(s.a)(b,2),f=E[0],v=E[1],p=Object(n.useState)({}),h=Object(s.a)(p,2),y=h[0],O=h[1];Object(n.useEffect)((function(){d(l.setlist.map((function(e){return{label:e.name,value:e}})))}),[]);return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),It.update(l.id,Object(g.a)(Object(g.a)({},l),{},{setlist:l.setlist.map((function(e){return e._id===y._id?Object(g.a)(Object(g.a)({},y),{},{songs:f}):e}))})).then((function(e){var t=Object(g.a)(Object(g.a)({},e),{},{date:new Date(e.date).toLocaleDateString()});c(t),a(),o({severity:"success",summary:"Success Message",detail:"Set updated successfully"})})).catch((function(e){return o({severity:"error",summary:"Error Message",detail:"Couldn't update setlist"})}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"set-name"},r.a.createElement("strong",null,"Set")),r.a.createElement("div",null,r.a.createElement(Ut.Dropdown,{value:y,options:m,placeholder:"Select set to modify",onChange:function(e){console.log(e.value),v(e.value.songs),O(e.value)}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"set-songs"},r.a.createElement("strong",null,"Set songs")),r.a.createElement("div",null,r.a.createElement(bt.MultiSelect,{style:{minWidth:"15em"},id:"set-songs",placeholder:"Set Songs",value:f,onChange:function(e){return v(e.value)},options:t}))),r.a.createElement("div",{className:"d-flex flex-row justify-content-end"},r.a.createElement("div",null,r.a.createElement(it.a,{variant:"success",type:"submit"},"Save")," ",r.a.createElement(it.a,{variant:"secondary",onClick:a},"Close"))))})),tn=Object(ae.b)({event:Mt}),an=Object(m.b)(tn,(function(e){return{selectEvent:function(t){return e(Bt(t))},showMessage:function(t){return e(Et(t))}}}))((function(e){var t=e.callback,a=e.event,l=e.selectEvent,c=e.showMessage,o=Object(n.useState)([]),i=Object(s.a)(o,2),u=i[0],m=i[1],d=Object(n.useState)({}),b=Object(s.a)(d,2),E=b[0],f=b[1];Object(n.useEffect)((function(){m(a.setlist.map((function(e){return{label:e.name,value:e}})))}),[]);return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),It.update(a.id,Object(g.a)(Object(g.a)({},a),{},{setlist:a.setlist.filter((function(e){return e._id!==E._id}))})).then((function(e){var a=Object(g.a)(Object(g.a)({},e),{},{date:new Date(e.date).toLocaleDateString()});l(a),t(),c({severity:"success",summary:"Success Message",detail:"Set deleted successfully"})})).catch((function(e){return c({severity:"error",summary:"Error Message",detail:"Couldn't delete setlist"})}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"set-name"},r.a.createElement("strong",null,"Set")),r.a.createElement("div",null,r.a.createElement(Ut.Dropdown,{value:E,options:u,placeholder:"Select set to delete",onChange:function(e){f(e.value)}}))),r.a.createElement("div",{className:"d-flex flex-row justify-content-end"},r.a.createElement("div",null,r.a.createElement(it.a,{variant:"danger",type:"submit"},"Delete")," ",r.a.createElement(it.a,{variant:"secondary",onClick:t},"Close"))))})),nn=function(e){var t=e.setGlobalFilter,a=e.setIsAddSetDialogDisplaying,n=e.setIsModifySetDialogDisplaying,l=e.setIsRemoveSetDialogDisplaying;return r.a.createElement("div",{style:{paddingTop:"2vh"}},r.a.createElement("div",{className:"d-flex flex-row justify-content-start"},r.a.createElement("div",{style:{paddingBottom:"1vh",marginRight:"1vw"}},r.a.createElement(it.a,{variant:"secondary",onClick:function(){return a(!0)}},r.a.createElement("span",{className:"text-light"},r.a.createElement("i",{className:"fas fa-plus-square"})," ","Add set"))),r.a.createElement("div",{style:{paddingBottom:"1vh",marginRight:"1vw"}},r.a.createElement(it.a,{variant:"secondary",onClick:function(){return n(!0)}},r.a.createElement("span",{className:"text-light"},r.a.createElement("i",{className:"fas fa-edit"})," ","Modify Set"))),r.a.createElement("div",null,r.a.createElement(it.a,{variant:"danger",onClick:function(){return l(!0)}},r.a.createElement("span",{className:"text-light"},r.a.createElement("i",{className:"far fa-trash-alt"})," ","Delete set"))),r.a.createElement("div",{style:{paddingLeft:"37vw"}},r.a.createElement(ut.InputText,{type:"search",placeholder:"Search",onInput:function(e){return t(e.target.value)}}))))},rn=Object(ae.b)({event:Mt}),ln=Object(m.b)(rn,(function(e){return{selectEvent:function(t){return e(Bt(t))},showMessage:function(t){return e(Et(t))}}}))((function(e){var t=e.event,a=e.showMessage,l=Object(n.useState)([]),c=Object(s.a)(l,2),o=c[0],i=c[1],u=Object(n.useState)([]),m=Object(s.a)(u,2),d=m[0],b=m[1],E=Object(n.useState)(""),f=Object(s.a)(E,2),v=f[0],p=f[1],g=Object(n.useState)(!1),h=Object(s.a)(g,2),y=h[0],O=h[1],j=Object(n.useState)(!1),N=Object(s.a)(j,2),S=N[0],w=N[1],C=Object(n.useState)(!1),x=Object(s.a)(C,2),k=x[0],F=x[1];Object(n.useEffect)((function(){ma.getAll(t.band).then((function(e){i(e.map((function(e){return{label:e.name,value:e.id}})))})).catch((function(e){a({severity:"error",summary:"Error Message",detail:"Couldn't fetch songs"})}))}),[]),Object(n.useEffect)((function(){t.setlist.length&&b(t.setlist.map((function(e,t){var a;return{key:t,data:{name:null===e||void 0===e?void 0:e.name,detail:"Has ".concat((null===e||void 0===e||null===(a=e.songs)||void 0===a?void 0:a.length)||0," songs")},children:null===e||void 0===e?void 0:e.songs.map((function(e,a){var n;return{key:"".concat(t,"-").concat(a),data:{name:null===(n=o.find((function(t){return t.value===e})))||void 0===n?void 0:n.label}}}))}})))}),[o,t.setlist]);var T=r.a.createElement(ot.a,{show:y,onHide:function(){return O(!1)},dialogClassName:"modal-dialog-centered","aria-labelledby":"modal-title",onExiting:function(){return O(!1)}},r.a.createElement(ot.a.Header,{closeButton:!0},r.a.createElement(ot.a.Title,{id:"modal-title"},"Add set")),r.a.createElement(ot.a.Body,null,r.a.createElement(Ka,{callback:function(){return O(!1)},songs:o})),r.a.createElement(ot.a.Footer,null)),B=r.a.createElement(ot.a,{show:S,onHide:function(){return w(!1)},dialogClassName:"modal-dialog-centered","aria-labelledby":"modal-title",onExiting:function(){return w(!1)}},r.a.createElement(ot.a.Header,{closeButton:!0},r.a.createElement(ot.a.Title,{id:"modal-title"},"Modify set")),r.a.createElement(ot.a.Body,null,r.a.createElement(en,{callback:function(){return w(!1)},songs:o})),r.a.createElement(ot.a.Footer,null)),D=r.a.createElement(ot.a,{show:k,onHide:function(){return F(!1)},dialogClassName:"modal-dialog-centered","aria-labelledby":"modal-title",onExiting:function(){return F(!1)}},r.a.createElement(ot.a.Header,{closeButton:!0},r.a.createElement(ot.a.Title,{id:"modal-title"},"Remove set")),r.a.createElement(ot.a.Body,null,r.a.createElement(an,{callback:function(){return F(!1)}})),r.a.createElement(ot.a.Footer,null));return r.a.createElement(r.a.Fragment,null,T,B,D,r.a.createElement(va.TreeTable,{scrollable:!0,scrollHeight:"40vh",value:d,className:"animated faster fadeIn",globalFilter:v,header:r.a.createElement(nn,{setIsRemoveSetDialogDisplaying:F,setIsModifySetDialogDisplaying:w,setIsAddSetDialogDisplaying:O,setGlobalFilter:p})},r.a.createElement(ct.Column,{field:"name",header:"Name",expander:!0}),r.a.createElement(ct.Column,{field:"detail",header:"Detail"})))})),cn=Object(ae.b)({selectedEvent:Mt}),sn=Object(m.b)(cn,{})((function(e){var t=e.selectedEvent;return Object(o.i)().id!==t.id?r.a.createElement(o.a,{to:"/setlists"}):r.a.createElement("div",{className:"container-fluid animated faster fadeIn",style:{padding:"20px"}},r.a.createElement(je.a,{className:"shadowed",style:{padding:"20px"}},r.a.createElement(je.a.Body,null,r.a.createElement($a,null),r.a.createElement("hr",null),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement(ln,null))))})),on=Object(ae.b)({events:At,user:ne}),un=Object(m.b)(on,(function(e){return{fetchEvents:function(t){return e(Tt(t))},showMessage:function(t){return e(Et(t))}}}))((function(e){var t=e.user,a=e.showMessage,l=e.fetchEvents;return Object(n.useEffect)((function(){It.eventsByLED(t.id).then((function(e){var t=e.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{date:new Date(e.date).toLocaleDateString()})}));l(t)})).catch((function(e){a({severity:"error",summary:"Error Message",detail:"Couldn't fetch events"})}))}),[]),r.a.createElement(o.d,null,r.a.createElement(d,{path:"/setlists/event/:id",component:sn}),r.a.createElement(d,{component:Ja}))})),mn=Object(m.b)((function(e){return{growlMessages:e.growlMessages.messages}}))((function(e){var t=e.growlMessages,a=Object(n.useState)(null),l=Object(s.a)(a,2),c=l[0],i=l[1],u=Object(n.useRef)();return t&&t!==c&&t.length>0&&(u.current.show(t),i(t)),r.a.createElement("div",{className:"bg-dark container-fluid fill-height"},r.a.createElement("div",{className:"row"},r.a.createElement(je.a,{className:"shadowed fill-height col-2 "},r.a.createElement(Ye,null)),r.a.createElement("div",{className:"col-10"},r.a.createElement(Ue.Growl,{ref:u,id:"my-super-growl",position:"topright"}),r.a.createElement(o.d,null,r.a.createElement(d,{path:"/bands",component:Pa}),r.a.createElement(d,{path:"/setlists",component:un}),r.a.createElement(o.a,{from:"/",to:"/bands"})))))}));a(202),a(203),a(204),a(205),a(206),a(207),a(208),a(209),a(210);var dn=function(){var e=Object(n.useState)(O.a.get("jwt")),t=Object(s.a)(e,1)[0];if(t){var a=JSON.parse(t);_e(a.token)}return r.a.createElement(m.a,{store:Z},r.a.createElement(X.a,{loading:null,persistor:K},r.a.createElement(i.a,null,t?r.a.createElement(o.d,null,r.a.createElement(d,{path:"/",component:mn})):r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",to:"/login",component:Le}),r.a.createElement(o.b,{exact:!0,path:"/login",component:Le}),r.a.createElement(o.b,{exact:!0,path:"/register",component:we}),r.a.createElement(o.a,{to:"/"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(dn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},55:function(e,t,a){e.exports=a.p+"static/media/only_logo.138c63d0.svg"},85:function(e,t,a){},93:function(e,t,a){e.exports=a.p+"static/media/register_bg.abe673d5.jpg"},95:function(e,t,a){e.exports=a.p+"static/media/google_logo.f6ce5696.svg"},96:function(e,t,a){e.exports=a.p+"static/media/fb_logo.dce3111d.svg"},97:function(e,t,a){e.exports=a.p+"static/media/login_bg.72512d89.jpg"}},[[100,1,2]]]);
//# sourceMappingURL=main.228417d8.chunk.js.map