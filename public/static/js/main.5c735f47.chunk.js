(this["webpackJsonpsetlist-hero-react"]=this["webpackJsonpsetlist-hero-react"]||[]).push([[0],{161:function(e,t,a){},178:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},186:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),s=(a(94),a(4)),o=a(13),i=a(12),u=a(88),m=a(9),d=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=a.user,c=a.loading,l=e.path,s=Object(u.a)(e,["component","auth","path"]);return r.a.createElement(o.b,{path:l,render:function(e){return n||c?r.a.createElement(t,Object.assign({},e,s)):r.a.createElement(o.a,{to:"/login"})}})})),b=a(26),p=a(44),f=a(42),E=a.n(f),g=a(5),h={LOGIN_START:"LOGIN_START",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT:"LOGOUT",REGISTER_SUCCESS:"REGISTER_SUCCESS",REGISTER_FAILURE:"REGISTER_FAILURE"},v=a(33),y=a.n(v),O=y.a.get("jwt")?JSON.parse(y.a.get("jwt")):{},N={user:O!=={}?Object(g.a)({token:O.token},O.user):{},error:{}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case h.LOGIN_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{user:n});case h.LOGIN_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{error:n});case h.LOGOUT:return Object(g.a)(Object(g.a)({},e),{},{user:{},error:{}});case h.REGISTER_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{user:n});case h.REGISTER_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{error:n});default:return e}},S={FETCH_BANDS_SUCCESS:"FETCH_BANDS_SUCCESS",FETCH_BANDS_FAILURE:"FETCH_BANDS_FAILURE",SELECT_BAND:"SELECT_BAND",UPDATE_SELECTED_BAND:"UPDATE_SELECTED_BAND"},w=S.FETCH_BANDS_SUCCESS,C=S.FETCH_BANDS_FAILURE,x=S.SELECT_BAND,k=S.UPDATE_SELECTED_BAND,F={bands:[],selectedBand:null,error:{}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case w:return Object(g.a)(Object(g.a)({},e),{},{bands:n});case C:return Object(g.a)(Object(g.a)({},e),{},{error:n});case x:case k:return Object(g.a)(Object(g.a)({},e),{},{selectedBand:n});default:return e}},I={FETCH_MUSICIANS_SUCCESS:"FETCH_MUSICIANS_SUCCESS",FETCH_MUSICIANS_FAILURE:"FETCH_MUSICIANS_FAILURE"},T=I.FETCH_MUSICIANS_FAILURE,A=I.FETCH_MUSICIANS_SUCCESS,_={musicians:[],error:{}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case A:return Object(g.a)(Object(g.a)({},e),{},{musicians:n});case T:return Object(g.a)(Object(g.a)({},e),{},{error:n});default:return e}},U={FETCH_SONGS:"FETCH_SONGS",SELECT_SONG:"SELECT_SONG"},D=U.FETCH_SONGS,R=U.SELECT_SONG,G={songs:[],song:{}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case D:return Object(g.a)(Object(g.a)({},e),{},{songs:n});case R:return Object(g.a)(Object(g.a)({},e),{},{song:n});default:return e}},M=Object(b.combineReducers)({auth:j,musician:L,song:Object(p.a)({key:"song",storage:E.a,blacklist:["songs"]},H),band:Object(p.a)({key:"band",storage:E.a,blacklist:["bands"]},B)}),P=M,q=a(76),z=(E.a,Object(b.createStore)(P,{},Object(q.devToolsEnhancer)())),V=Object(p.b)(z),Y=a(77),J=a(6),W=Object(J.a)([function(e){return e.auth}],(function(e){return e.user})),$=function(){return{type:h.LOGOUT}},Z=a(47),K=a.n(Z),Q=function(){return r.a.createElement("div",{className:"center image-centerd animated rubberBand "},r.a.createElement("img",{src:K.a,alt:"logo",style:{height:"".concat(100,"px"),width:"".concat(100,"px")}}))},X=a(11),ee=a.n(X),te=a(18),ae=a(29),ne=a(30),re=a(23),ce=a.n(re),le=function(e){return{api:"".concat(e,"/").concat("api"),isProduction:!0,isDevelopment:!1}}(""),se=Object(g.a)({},le),oe=se.api,ie=new(function(){function e(){Object(ae.a)(this,e)}return Object(ne.a)(e,[{key:"loginWithSocial",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,n,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(oe,"/auth/").concat(t),e.next=3,ce.a.get(a);case 3:return n=e.sent,r=n.request.responseURL,console.log(n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,n,r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(oe,"/auth/register"),e.next=4,ce.a.post(a,t,{headers:{"content-type":"application/json"}});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:if(e.prev=8,e.t0=e.catch(0),403!==(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status)){e.next=12;break}throw new Error("User already registered");case 12:if(500!==(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status)){e.next=14;break}throw new Error("Something wrong happened... try again later");case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,n,r,c,l,s,o;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(oe,"/auth/email"),e.next=4,ce.a.post(a,t,{headers:{"content-type":"application/json"},withCredentials:!0});case 4:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 9:if(e.prev=9,e.t0=e.catch(0),c=e.t0.response,l=c.data,s=c.status,o=null===l||void 0===l||null===(r=l.errors[0])||void 0===r?void 0:r.msg,500!==s){e.next=17;break}throw new Error("Something wrong happened... try again later");case 17:throw new Error(o);case 18:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()),ue=Object(J.b)({user:W}),me=Object(m.b)(ue,(function(e){return{registerUser:function(t){return e(function(e){return{type:h.REGISTER_SUCCESS,payload:e}}(t))}}}))((function(e){e.registerUser;var t=e.user,a=Object(n.useState)(""),c=Object(s.a)(a,2),l=c[0],u=c[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),b=d[0],p=d[1],f=Object(n.useState)(""),E=Object(s.a)(f,2),g=E[0],h=E[1],v=Object(n.useState)(""),y=Object(s.a)(v,2),O=y[0],N=y[1],j=Object(n.useState)(""),S=Object(s.a)(j,2),w=S[0],C=S[1],x=Object(n.useState)(!1),k=Object(s.a)(x,2),F=k[0],B=k[1],I=Object(n.useState)(""),T=Object(s.a)(I,2),A=T[0],_=T[1],L=Object(n.useState)(!1),U=Object(s.a)(L,2),D=U[0],R=U[1],G=Object(n.useState)(""),H=Object(s.a)(G,2),M=H[0],P=H[1],q=Object(n.useState)(!1),z=Object(s.a)(q,2),V=z[0],Y=z[1];Object(n.useEffect)((function(){l!==A?(P("Passwords are different"),R(!1)):(P(""),R(!0))}),[l,A]),Object(n.useEffect)((function(){""===l?C(""):/(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/.test(l)?(C(""),B(!0)):C("Password must have at least one capital letter, one lowercase letter, one number and one special character (! @ # $ % ^ & *)")}),[l]);return V?r.a.createElement(o.a,{to:"/login"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),F&&D&&(t={email:O,displayName:b,password:l,username:g},ie.register(t).then((function(e){console.log(e),Y(!0),alert("user registered")})).catch((function(e){P(e.message)})))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",required:!0,id:"inputName",placeholder:"Enter name",onChange:function(e){return p(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"inputUsername",placeholder:"Enter username",required:!0,onChange:function(e){return h(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:"form-control",id:"inputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",required:!0,onChange:function(e){return N(e.target.value)}}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",required:!0,placeholder:"Password",id:"inputPassword1",onChange:function(e){return u(e.target.value)}}),r.a.createElement("small",{id:"passwordFeedback",className:"form-text text-danger"},w)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",required:!0,placeholder:"Confirm Password",id:"inputPassword2",onChange:function(e){return _(e.target.value)}}),r.a.createElement("small",{id:"passwordFeedback",className:"form-text text-danger"},M)),r.a.createElement("button",{type:"submit",className:"btn btn-warning btn-block text-light"},"Register")),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("small",{className:"center"},"Already have an account? ",r.a.createElement(i.b,{style:{paddingLeft:"5px"},to:"/login"},"Login here")))})),de=a(31),be=Object(J.b)({user:W}),pe=Object(m.b)(be)((function(e){var t=e.image,a=e.children;return r.a.createElement("div",{className:"p-3 fill-height center",style:{backgroundImage:"url(".concat(t,")"),backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",backgroundSize:"cover"}},r.a.createElement("div",{className:"animated faster fadeIn"},r.a.createElement(de.a,{className:"shadowed",style:{width:"20rem",padding:"15px"}},a)))})),fe=a(79),Ee=a.n(fe),ge=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{image:Ee.a},r.a.createElement(me,null)))},he=se.api,ve=function(e){var t=e.logo,a=e.text,n=e.action,c=e.btnClass;return r.a.createElement("button",{className:"btn btn-block ".concat(c),onClick:function(){return window.location.href="".concat(he,"/auth/").concat(n)}},r.a.createElement("span",{className:"content-horizontal"},r.a.createElement("img",{src:t,alt:"logo",style:{height:"".concat(20,"px"),width:"".concat(20,"px"),marginRight:"12px"}}),a))},ye=a(80),Oe=a.n(ye),Ne=a(81),je=a.n(Ne),Se=Object(J.b)({user:W}),we=Object(m.b)(Se,(function(e){return{loginFailure:function(t){return e(function(e){return{type:h.LOGIN_FAILURE,payload:e}}(t))}}}))((function(e){var t=e.user,a=Object(n.useState)(""),c=Object(s.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(""),m=Object(s.a)(u,2),d=m[0],b=m[1],p=Object(n.useState)(""),f=Object(s.a)(p,2),E=f[0],g=f[1];Object(n.useEffect)((function(){return g("")}),[l,d]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t={identifier:d,password:l},ie.login(t).then((function(e){alert("Logged In!"),window.location.href="/"})).catch((function(e){g(e.message)}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",required:!0,id:"inputName",placeholder:"Enter email or username",onChange:function(e){return b(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",required:!0,placeholder:"Password",id:"inputPassword2",onChange:function(e){return o(e.target.value)}}),r.a.createElement("small",{id:"passwordFeedback",className:"form-text text-danger"},E)),r.a.createElement("button",{type:"submit",className:"btn btn-warning btn-block text-light"},"Log in")),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement(ve,{action:"google",text:"Log in with Google",logo:Oe.a,btnClass:"btn-outline-primary"}),r.a.createElement(ve,{action:"facebook",text:"Log in with Facebook",logo:je.a,btnClass:"btn-outline-primary"}),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("small",{className:"center"},"Don't have an account? ",r.a.createElement(i.b,{style:{paddingLeft:"5px"},to:"/register"},"Register here")))})),Ce=a(82),xe=a.n(Ce),ke=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{image:xe.a},r.a.createElement(we,null)))},Fe=function(e){e?ce.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete ce.a.defaults.headers.common.Authorization},Be=function(){return r.a.createElement("div",{className:"col "},r.a.createElement("div",{className:"center image-centerd"},r.a.createElement("img",{className:"animated fast sidebar-logo rubberBand",src:K.a,alt:"logo",style:{height:"".concat(100,"px"),width:"".concat(100,"px"),marginTop:"20px"}})),r.a.createElement("h5",{className:"center"},r.a.createElement("strong",null,"SETLIST HERO")))},Ie=(a(65),function(e){var t=e.children,a=e.text,n=e.path,c=Object(o.g)(),l=Object(o.h)().pathname.match(n);return r.a.createElement("div",{className:"row selectable ".concat(l?"selected":""),style:{padding:"10px"},onClick:function(){return c.push("/".concat(n))}},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-sm-1"},t),r.a.createElement("div",{className:"col"},r.a.createElement("span",{className:"h6"},a)))))}),Te=a(83),Ae=a.n(Te),_e={dashboard:{text:"Dashboard",icon:r.a.createElement("img",{src:Ae.a,alt:"logo",className:"fas dashboard"}),path:"dashboard"},profile:{text:"Profile",icon:r.a.createElement("i",{className:"fas fa-user"}),path:"profile"},bands:{text:"Bands",icon:r.a.createElement("i",{className:"fas fa-users"}),path:"bands"},setlist:{text:"Setlists",icon:r.a.createElement("i",{className:"fas fa-list"}),path:"setlists"}},Le=Object(J.b)({user:W}),Ue=Object(m.b)(Le,(function(e){return{logout:function(){return e($())}}}))(Object(o.j)((function(){var e=Object.keys(_e).map((function(e,t){var a=_e[e],n=a.text,c=a.icon,l=a.path;return r.a.createElement(Ie,{key:t,text:n,path:l},c)}));return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(Be,null)),r.a.createElement("hr",{style:{margin:"5px",backgroundColor:"gray"}}),e,r.a.createElement("div",{className:"spacer-lg"}),r.a.createElement("span",{className:"center"},r.a.createElement("button",{className:"btn btn-warning text-light",onClick:function(){$(),y.a.remove("jwt"),window.location.href="/"}},r.a.createElement("i",{className:"fas fa-sign-out-alt"})," Logout")))}))),De=function(e){var t=e.title,a=e.children,n=e.className;return r.a.createElement(de.a,{style:{paddingLeft:"50px",paddingTop:"15px",paddingBottom:"15px"},className:n},r.a.createElement("span",{className:"h5"},r.a.createElement("strong",null,t)),r.a.createElement("div",{className:"spacer"}),r.a.createElement("p",{className:"text-muted"},a))},Re=function(e){e.title;var t=e.children,a=e.className;return r.a.createElement(de.a,{style:{padding:"15px"},className:a},t)},Ge=a(32),He=a(10),Me=a(40),Pe=a(7),qe=a(48),ze=a(49),Ve=a(24),Ye=[{label:"Rock",value:"Rock"},{label:"Metal",value:"Metal"},{label:"Pop",value:"Pop"},{label:"Cumbias",value:"Cumbias"},{label:"Norte\xf1as",value:"Norte\xf1as"}],Je=a(36),We=a(27),$e=a(37),Ze=a(35),Ke=se.api,Qe=function(){function e(t){Object(ae.a)(this,e),this.resource=t,this.resourceUrl="".concat(Ke,"/").concat(this.resource)}return Object(ne.a)(e,[{key:"create",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,n,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.post(this.resourceUrl,t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:if(e.prev=7,e.t0=e.catch(0),500!==(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.status)){e.next=13;break}throw new Error("Something happened");case 13:throw r=e.t0.response.data,null===r||void 0===r?void 0:r.errors;case 16:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,n,r,c,l,s,o,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.get("".concat(this.resourceUrl,"/").concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:if(e.prev=7,e.t0=e.catch(0),r=null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.status,500!==(c=r.status)){e.next=14;break}throw new Error("Something happened");case 14:if(404!==c&&401!==c){e.next=20;break}throw s=e.t0.response.data,o=null===s||void 0===s||null===(l=s.errors[0])||void 0===l?void 0:l.msg,new Error(o);case 20:throw i=e.t0.response.data,null===i||void 0===i?void 0:i.errors;case 23:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,n,r,c,l;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,n=t.id,e.prev=1,e.next=4,ce.a.get("".concat(this.resourceUrl,"/?").concat(a,"=").concat(n));case 4:return r=e.sent,e.abrupt("return",r.data);case 8:if(e.prev=8,e.t0=e.catch(1),500!==(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status)){e.next=14;break}throw new Error("Something happened");case 14:throw l=e.t0.response.data,null===l||void 0===l?void 0:l.errors;case 17:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(te.a)(ee.a.mark((function e(t,a){var n,r,c,l,s,o,i,u;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.put("".concat(this.resourceUrl,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:if(e.prev=7,e.t0=e.catch(0),c=null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status,500!==(l=c.status)){e.next=14;break}throw new Error("Something happened");case 14:if(404!==l&&401!==l){e.next=20;break}throw o=e.t0.response.data,i=null===o||void 0===o||null===(s=o.errors[0])||void 0===s?void 0:s.msg,new Error(i);case 20:throw u=e.t0.response.data,null===u||void 0===u?void 0:u.errors;case 23:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,n,r,c,l,s,o;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.delete("".concat(this.resourceUrl,"/").concat(t));case 3:return e.abrupt("return","Deletion succeed");case 6:if(e.prev=6,e.t0=e.catch(0),n=null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status,500!==(r=n.status)){e.next=13;break}throw new Error("Something happened");case 13:if(404!==r&&401!==r){e.next=19;break}throw l=e.t0.response.data,s=null===l||void 0===l||null===(c=l.errors[0])||void 0===c?void 0:c.msg,new Error(s);case 19:throw o=e.t0.response.data,null===o||void 0===o?void 0:o.errors;case 22:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Xe=new(function(e){Object($e.a)(a,e);var t=Object(Ze.a)(a);function a(){return Object(ae.a)(this,a),t.call(this,"band")}return Object(ne.a)(a,[{key:"getAll",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Je.a)(Object(We.a)(a.prototype),"getAll",this).call(this,{query:"manager",id:t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(Qe)),et=S.FETCH_BANDS_SUCCESS,tt=S.FETCH_BANDS_FAILURE,at=S.SELECT_BAND,nt=function(e){return{type:et,payload:e}},rt=function(e){return{type:tt,payload:e}},ct=function(e){return{type:at,payload:e}},lt=function(e){return e.band},st=Object(J.a)([lt],(function(e){return e.bands})),ot=Object(J.a)([lt],(function(e){return e.selectedBand})),it=a(16),ut=function(e){return e?r.a.createElement("div",{className:"my-multiselected-item-token"},r.a.createElement("span",null,e)):r.a.createElement("span",null,"Select genre")},mt=se.api,dt=Object(J.b)({user:W,bands:st}),bt=Object(m.b)(dt,(function(e){return{fetchBands:function(t){return e(nt(t))}}}))((function(e){var t=e.user,a=e.callback,c=e.fetchBands,l=e.bands,i=Object(n.useState)(""),u=Object(s.a)(i,2),m=u[0],d=u[1],b=Object(n.useState)(void 0),p=Object(s.a)(b,2),f=p[0],E=p[1],h=Object(n.useState)(""),v=Object(s.a)(h,2),y=v[0],O=v[1],N=Object(n.useState)(""),j=Object(s.a)(N,2),S=j[0],w=j[1],C=(Object(o.g)(),Object(n.useRef)(null)),x=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(it.Growl,{ref:x,position:"topright"}),r.a.createElement(it.Growl,{ref:C,position:"topright"}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={name:y,description:S,genres:m,manager:t.id,logo:f};Xe.create(n).then((function(e){var t=l.concat(Object(g.a)(Object(g.a)({},e),{},{genres:e.genres.map((function(e,t){return 0===t?e:" ".concat(e)})).join()}));a(),c(t),x.current.show({severity:"success",summary:"Success",detail:"Band Created"})})).catch((function(e){x.current.show({severity:"error",summary:"Error Message",detail:"Couldn't create band"})}))}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-5"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6",htmlFor:"create-band-profile-pic"},r.a.createElement("strong",null,"Upload band logo")),r.a.createElement("div",null,r.a.createElement(ze.FileUpload,{name:"data",id:"create-band-profile-pic",multiple:!1,url:"".concat(mt,"/storage/upload"),onUpload:function(e){C.current.show({severity:"success",summary:"Success",detail:"File Uploaded"});var t=JSON.parse(e.xhr.response);E(t.downloadUrl)},accept:"image/*",maxFileSize:1e6}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6"},"Profile selected:"),f&&r.a.createElement("img",{className:"animated faster fadeIn rounded",src:f,alt:"band logo",style:{Left:"10px",height:"100px",width:"100px"}}))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6",htmlFor:"band-name"},r.a.createElement("strong",null,"Band name")),r.a.createElement("input",{type:"text",className:"form-control",id:"band-name",onChange:function(e){return O(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6",htmlFor:"band-description"},r.a.createElement("strong",null,"Band description")),r.a.createElement("textarea",{className:"form-control",id:"band-description",rows:"3",onChange:function(e){return w(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"h6 col",htmlFor:"band-genres"},r.a.createElement("strong",null,"Band genres"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(qe.MultiSelect,{style:{width:"70%",minWidth:"12em"},maxSelectedLabels:10,placeholder:"Select genres",optionLabel:"label",optionValue:"value",id:"Band-genres",value:m,options:Ye,onChange:function(e){return d(e.value)},selectedItemTemplate:ut})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"}),r.a.createElement("div",{className:"col"},r.a.createElement(Ve.a,{style:{marginRight:"10px"},variant:"success",type:"submit"},"Save"),r.a.createElement(Ve.a,{variant:"secondary",onClick:a},"Close")))))))})),pt=function(e){var t=e.isDialogDisplaying,a=e.setIsDialogDisplaying,n=e.setGlobalFilter,c=e.buttonText;return r.a.createElement("div",{className:"container-fluid",style:{paddingTop:"15px"}},r.a.createElement("div",{className:"row align-content-center"},r.a.createElement("div",{className:"col-lg-2",style:{paddingBottom:"10px"}},r.a.createElement(Ve.a,{active:t,variant:"success",onClick:function(){return a(!0)}},r.a.createElement("span",{className:"text-light"},r.a.createElement("i",{className:"fas fa-plus-square"})," ".concat(c)))),r.a.createElement("div",{style:{paddingLeft:"750px"},className:"col"},r.a.createElement(Me.InputText,{type:"search",placeholder:"Search",onInput:function(e){return n(e.target.value)}}))))},ft=Object(J.b)({bands:st}),Et=Object(m.b)(ft,(function(e){return{fetchBandsSuccess:function(t){return e(nt(t))},fetchBandsFailure:function(t){return e(rt(t))},selectBand:function(t){return e(ct(t))}}}))((function(e){var t=e.bands,a=e.selectBand,c=Object(n.useState)(null),l=Object(s.a)(c,2),i=l[0],u=l[1],m=Object(n.useState)(!1),d=Object(s.a)(m,2),b=d[0],p=d[1],f=Object(n.useState)(null),E=Object(s.a)(f,2),g=E[0],h=(E[1],Object(o.g)());return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{size:"xl",show:b,onHide:function(){return p(!1)},dialogClassName:"modal-dialog-centered","aria-labelledby":"modal-title",onExiting:function(){return p(!1)}},r.a.createElement(Pe.a.Header,{closeButton:!0},r.a.createElement(Pe.a.Title,{id:"modal-title"},"Create a band")),r.a.createElement(Pe.a.Body,null,r.a.createElement(bt,{callback:function(){p(!1)}}),r.a.createElement("div",{className:"spacer"}))),r.a.createElement(Ge.DataTable,{header:r.a.createElement(pt,{buttonText:"Add band",isDialogDisplaying:b,setGlobalFilte:u,setIsDialogDisplaying:p}),value:t,scrollable:!0,scrollHeight:"315px",globalFilter:i,sortField:"name",selectionMode:"single",sortOrder:1,selection:g,onSelectionChange:function(e){a(e.value),h.push("/bands/".concat(e.value.id))}},r.a.createElement(He.Column,{field:"name",header:"Name",sortable:!0}),r.a.createElement(He.Column,{style:{width:"50%"},field:"description",header:"Description",sortable:!0}),r.a.createElement(He.Column,{style:{width:"25%"},field:"genres",header:"Genres",sortable:!0}),r.a.createElement(He.Column,{field:"active",header:"Active"})))})),gt=function(){return r.a.createElement("div",{className:"container-fluid",style:{padding:"20px"}},r.a.createElement(De,{className:"shadowed animated faster bounceInRight",title:"Your Bands"},"Here you can organize, create, delete, edit and search your bands"),r.a.createElement("div",{className:"spacer-sm"}),r.a.createElement(Re,{className:"shadowed animated faster bounceInRight delayed"},r.a.createElement(Et,null)))},ht=a(84),vt=Object(J.b)({selectedBand:ot}),yt=Object(m.b)(vt)((function(e){var t=e.className,a=e.selectedBand,n=a.name,c=a.logo,l=a.description,s=a.genres.split(",").map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(ht.a,{key:t,className:"h7",variant:"secondary"},e)," ")}));return r.a.createElement(de.a,{style:{paddingTop:"15px",paddingLeft:"10px",paddingBottom:"15px"},className:t},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 center"},r.a.createElement("img",{src:c,className:"rounded",alt:n,style:{height:"".concat(150,"px"),width:"".concat(150,"px")}})),r.a.createElement("div",{className:"col"},r.a.createElement("span",{className:"h5"},r.a.createElement("strong",null,n)),r.a.createElement("div",{className:"spacer-sm"}),r.a.createElement("p",{className:"text-muted"},l),r.a.createElement("div",null,s)))))})),Ot=(a(161),function(e){var t=e.text,a=Object(o.g)(),n=Object(o.h)(),c=Object(o.i)().id,l=n.pathname.match("/bands/".concat(c,"/").concat(t.toLowerCase()));return r.a.createElement("div",{className:"center col tbe-selectable ".concat(l?"tbe-selected":""),onClick:function(){return a.push("/bands/".concat(c,"/").concat(t.toLowerCase()))}},r.a.createElement("h6",null,r.a.createElement("strong",null,t)))}),Nt=["Members","Songs","Events","Edit"].map((function(e,t){return r.a.createElement(Ot,{key:t,text:e})})),jt=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},Nt))},St=a(38),wt=a(50),Ct=Object(J.a)([function(e){return e.musician}],(function(e){return e.musicians})),xt=I.FETCH_MUSICIANS_FAILURE,kt=I.FETCH_MUSICIANS_SUCCESS,Ft=function(e){return{type:kt,payload:e}},Bt=new(function(e){Object($e.a)(a,e);var t=Object(Ze.a)(a);function a(){return Object(ae.a)(this,a),t.call(this,"musician")}return Object(ne.a)(a,[{key:"getAll",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Je.a)(Object(We.a)(a.prototype),"getAll",this).call(this,{query:"band",id:t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(Qe)),It=[{label:"Voice",value:"Voice"},{label:"Guitar",value:"Guitar"},{label:"Bass",value:"Bass"},{label:"Drums",value:"Drums"}],Tt=Object(J.b)({selectedBand:ot,musicians:Ct}),At=Object(m.b)(Tt,(function(e){return{fetchMusicians:function(t){return e(Ft(t))}}}))((function(e){var t=e.callback,a=e.selectedBand,c=e.musicians,l=e.fetchMusicians,o=Object(n.useState)(""),i=Object(s.a)(o,2),u=i[0],m=i[1],d=Object(n.useState)(""),b=Object(s.a)(d,2),p=b[0],f=b[1],E=Object(n.useRef)(null),g=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(it.Growl,{ref:E,position:"topright"}),r.a.createElement(it.Growl,{ref:g,position:"topright"}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={instrument:u,email:p,band:a.id};Bt.create(n).then((function(e){return setTimeout(t,1e3),E.current.show({life:650,severity:"success",summary:"Success",detail:"Member added"}),Bt.getById(e.id)})).then((function(e){var t=e.band,a=e.instrument,n=e.id,r=e.email,c=e.user;return{band:t,instrument:a,email:r,id:n,status:c?"Active":"Pending",username:null===c||void 0===c?void 0:c.username,name:null===c||void 0===c?void 0:c.displayName}})).then((function(e){return l(c.concat(e))})).catch((function(e){g.current.show({severity:"error",summary:"Error Message",detail:"Couldn't add member"})}))}},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputEmail3",className:"col-sm-3 col-form-label h6"},"Email"),r.a.createElement("div",{class:"col-sm-9"},r.a.createElement("input",{value:p,onChange:function(e){return f(e.target.value)},type:"email",className:"form-control",id:"inputEmail3"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"member-instrument",className:"col-sm-3 col-form-label h6"},"Instrument"),r.a.createElement("div",{class:"col-sm-9"},r.a.createElement(wt.Dropdown,{options:It,value:u,onChange:function(e){return m(e.value)},placeholder:"Select an instrument",id:"member-instrument"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-7"}),r.a.createElement("div",{className:"col",style:{paddingLeft:"35px"}},r.a.createElement("button",{type:"submit",className:"btn btn-success mb-2"},"Submit")," ",r.a.createElement("button",{type:"button",className:"btn btn-secondary mb-2",onClick:t},"Cancel")))))})),_t=Object(J.b)({musicians:Ct,band:ot}),Lt=Object(m.b)(_t,(function(e){return{fetchMusicians:function(t){return e(Ft(t))},fetchFailure:function(t){return e(function(e){return{type:xt,payload:e}}(t))}}}))((function(e){var t=e.musicians,a=e.fetchMusicians,c=e.band,l=e.fetchFailure,o=Object(n.useState)(null),i=Object(s.a)(o,2),u=i[0],m=i[1],d=Object(n.useState)(!1),b=Object(s.a)(d,2),p=b[0],f=b[1],E=Object(n.useState)(!1),g=Object(s.a)(E,2),h=g[0],v=g[1],y=Object(n.useState)(!1),O=Object(s.a)(y,2),N=O[0],j=O[1],S=Object(n.useState)(null),w=Object(s.a)(S,2),C=w[0],x=w[1],k=Object(n.useState)(""),F=Object(s.a)(k,2),B=F[0],I=F[1],T=Object(n.useRef)(null);Object(n.useEffect)((function(){Bt.getAll(c.id).then((function(e){var t=e.map((function(e){var t=e.band,a=e.instrument,n=e.email,r=e.id,c=e.user;return{band:t,instrument:a,email:n,id:r,status:c?"Active":"Pending",username:null===c||void 0===c?void 0:c.username,name:null===c||void 0===c?void 0:c.displayName}}));a(t)})).catch((function(e){l(e)}))}),[]);var A=r.a.createElement(Pe.a,{show:h,onHide:function(){return v(!1)},centered:!0},r.a.createElement(Pe.a.Header,{closeButton:!0},r.a.createElement(Pe.a.Title,null,"Confirm deletion")),r.a.createElement(Pe.a.Body,null,"You are about to delete ".concat(null===C||void 0===C?void 0:C.username," are you sure?")),r.a.createElement(Pe.a.Footer,null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){Bt.delete(C.id).then((function(e){a(t.filter((function(e){return e.id!==C.id}))),x(null),T.current.show({severity:"success",summary:"Success",detail:"Member deleted"}),v(!1)})).catch((function(){T.current.show({severity:"error",summary:"Error Message",detail:"Couldn't delete member"}),v(!1)}))}},"Delete"),r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return v(!1)}},"Close"))),_=r.a.createElement(Pe.a,{show:N,onHide:function(){return j(!1)},centered:!0},r.a.createElement(Pe.a.Header,{closeButton:!0},r.a.createElement(Pe.a.Title,null,"Confirm update")),r.a.createElement(Pe.a.Body,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("strong",null,"You can only edit ".concat(null===C||void 0===C?void 0:C.username,"'s instrument"))),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("label",{htmlFor:"member-instrument",className:"col-sm-3 col-form-label h6"},"Instrument"),r.a.createElement("div",{class:"col-sm-9"},r.a.createElement(wt.Dropdown,{options:It,value:B,onChange:function(e){return I(e.value)},placeholder:"Select an instrument"})))))),r.a.createElement(Pe.a.Footer,null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){Bt.update(C.id,{instrument:B}).then((function(e){a(t.map((function(e){var t=e.band,a=e.email,n=e.id,r=e.status,c=e.username,l=e.name;return C.id===n?{band:t,email:a,id:n,status:r,username:c,name:l,instrument:[B[0].toUpperCase(),B.slice(1)].join("")}:e}))),T.current.show({severity:"success",summary:"Success",detail:"Member edited!"}),j(!1),x(null)})).catch((function(){T.current.show({severity:"error",summary:"Error Message",detail:"Couldn't edit member"}),j(!1)}))}},"Edit"),r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return j(!1)}},"Close")));return r.a.createElement(r.a.Fragment,null,r.a.createElement(it.Growl,{ref:T,position:"topright"}),A,_,r.a.createElement(Pe.a,{show:p,onHide:function(){return f(!1)},dialogClassName:"modal-90w","aria-labelledby":"modal-title",centered:!0,onExiting:function(){return f(!1)}},r.a.createElement(Pe.a.Header,{closeButton:!0},r.a.createElement(Pe.a.Title,{id:"modal-title"},"Add band member")),r.a.createElement(Pe.a.Body,null,r.a.createElement(At,{callback:function(){return f(!1)}}))),r.a.createElement(Ge.DataTable,{id:"band-members-table",value:t,className:"animated faster fadeIn ",resizableColumns:!0,header:r.a.createElement(pt,{buttonText:"Add member",isDialogDisplaying:p,setGlobalFilte:m,setIsDialogDisplaying:f}),scrollable:!0,scrollHeight:"315px",globalFilter:u,sortField:"name",selectionMode:"single"},r.a.createElement(He.Column,{field:"name",header:"Name",sortable:!0}),r.a.createElement(He.Column,{field:"username",header:"Username",sortable:!0,style:{width:"13%"}}),r.a.createElement(He.Column,{field:"email",header:"Email",sortable:!0}),r.a.createElement(He.Column,{field:"instrument",header:"Instrument",sortable:!0,style:{width:"13%"}}),r.a.createElement(He.Column,{field:"status",header:"Status",sortable:!0}),r.a.createElement(He.Column,{body:function(e){return r.a.createElement(St.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-secondary",onClick:function(){return x(e),void j(!0)}})},headerStyle:{width:"4em",textAlign:"center"},bodyStyle:{textAlign:"center",overflow:"visible"}}),r.a.createElement(He.Column,{body:function(e){return r.a.createElement(St.Button,{type:"button",icon:"pi pi-trash",className:"p-button-secondary",onClick:function(){return x(e),void v(!0)}})},headerStyle:{width:"4em",textAlign:"center"},bodyStyle:{textAlign:"center",overflow:"visible"}})))})),Ut=Object(J.b)({bands:st}),Dt=Object(m.b)(Ut)((function(e){e.bands,e.selectBand;var t=Object(n.useState)(null),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),i=Object(s.a)(o,2),u=i[0],m=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{size:"xl",show:u,onHide:function(){return m(!1)},dialogClassName:"modal-dialog-centered","aria-labelledby":"modal-title",onExiting:function(){return m(!1)}},r.a.createElement(Pe.a.Header,{closeButton:!0},r.a.createElement(Pe.a.Title,{id:"modal-title"},"Add member")),r.a.createElement(Pe.a.Body,null,r.a.createElement("div",{className:"spacer"}))),r.a.createElement(Ge.DataTable,{className:"animated faster fadeIn",header:r.a.createElement(pt,{buttonText:"Add event",isDialogDisplaying:u,setGlobalFilte:l,setIsDialogDisplaying:m}),scrollable:!0,scrollHeight:"315px",globalFilter:c,sortField:"name",selectionMode:"single"},r.a.createElement(He.Column,{field:"name",header:"Name",sortable:!0}),r.a.createElement(He.Column,{field:"date",header:"Date",sortable:!0}),r.a.createElement(He.Column,{field:"location",header:"Location",sortable:!0}),r.a.createElement(He.Column,{field:"designer",header:"Designer",sortable:!0}),r.a.createElement(He.Column,{field:"tags",header:"Tags",sortable:!0})))})),Rt=function(e){return e.song},Gt=Object(J.a)([Rt],(function(e){return e.song})),Ht=Object(J.a)([Rt],(function(e){return e.songs})),Mt=U.FETCH_SONGS,Pt=U.SELECT_SONG,qt=function(e){return{type:Mt,payload:e}},zt=a(85),Vt=new(function(e){Object($e.a)(a,e);var t=Object(Ze.a)(a);function a(){return Object(ae.a)(this,a),t.call(this,"song")}return Object(ne.a)(a,[{key:"getAll",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Je.a)(Object(We.a)(a.prototype),"getAll",this).call(this,{query:"band",id:t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(Qe)),Yt=Object(J.b)({songs:Ht,selectedBand:ot}),Jt=Object(m.b)(Yt,(function(e){return{fetchSongs:function(t){return e(qt(t))}}}))((function(e){var t=e.callback,a=e.selectedBand,c=e.songs,l=e.fetchSongs,o=Object(n.useState)(""),i=Object(s.a)(o,2),u=i[0],m=i[1],d=Object(n.useState)(null),b=Object(s.a)(d,2),p=b[0],f=b[1],E=Object(n.useState)([]),h=Object(s.a)(E,2),v=h[0],y=h[1],O=Object(n.useRef)(null),N=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(it.Growl,{ref:O,position:"topright"}),r.a.createElement(it.Growl,{ref:N,position:"topright"}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={band:a.id,name:u,tempo:p,tags:v};Vt.create(n).then((function(e){return setTimeout(t,1e3),O.current.show({life:650,severity:"success",summary:"Success",detail:"Song added"}),Object(g.a)(Object(g.a)({},e),{},{tags:e.tags.join(", ")})})).then((function(e){return l(c.concat(e))})).catch((function(e){N.current.show({severity:"error",summary:"Error Message",detail:"Couldn't add song"})}))}},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"song-name",className:"col-sm-2 col-form-label"},"Name"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{onChange:function(e){return m(e.target.value)},type:"text",className:"form-control",id:"song-name"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"song-tempo",className:"col-sm-2 col-form-label"},"Tempo"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{onChange:function(e){return f(e.target.value)},type:"number",className:"form-control",id:"song-tempo"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"song-tags",className:"col-sm-2 col-form-label"},"Tags"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement(zt.Chips,{value:v,onChange:function(e){return y(e.value)},separator:","}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-6"}),r.a.createElement("div",{className:"col",style:{paddingLeft:"39px"}},r.a.createElement("button",{type:"submit",className:"btn btn-success mb-2"},"Create song")," ",r.a.createElement("button",{type:"button",className:"btn btn-secondary mb-2",onClick:t},"Cancel")))))})),Wt=Object(J.b)({band:ot,songs:Ht}),$t=Object(m.b)(Wt,(function(e){return{selectSong:function(t){return e(function(e){return{type:Pt,payload:e}}(t))},fetchSongs:function(t){return e(qt(t))}}}))((function(e){var t=e.songs,a=e.band,c=e.fetchSongs,l=e.selectSong,i=Object(n.useState)(null),u=Object(s.a)(i,2),m=u[0],d=u[1],b=Object(n.useState)(!1),p=Object(s.a)(b,2),f=p[0],E=p[1],h=Object(n.useState)(!1),v=Object(s.a)(h,2),y=v[0],O=v[1],N=Object(n.useState)(null),j=Object(s.a)(N,2),S=j[0],w=j[1],C=Object(n.useRef)(null),x=Object(o.g)();Object(n.useEffect)((function(){Vt.getAll(a.id).then((function(e){c(e.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{tags:e.tags.join(", ")})})))}))}),[]);var k=r.a.createElement(Pe.a,{show:y,onHide:function(){return O(!1)},centered:!0},r.a.createElement(Pe.a.Header,{closeButton:!0},r.a.createElement(Pe.a.Title,null,"Confirm deletion")),r.a.createElement(Pe.a.Body,null,"You are about to delete ".concat(null===S||void 0===S?void 0:S.name," are you sure?")),r.a.createElement(Pe.a.Footer,null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){Vt.delete(S.id).then((function(){w(null),C.current.show({severity:"success",summary:"Success",detail:"Member deleted"}),O(!1),c(t.filter((function(e){return e.id!==S.id})))})).catch((function(){C.current.show({severity:"error",summary:"Error Message",detail:"Couldn't delete member"}),O(!1)}))}},"Delete"),r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return O(!1)}},"Close")));return r.a.createElement(r.a.Fragment,null,r.a.createElement(it.Growl,{ref:C,position:"topright"}),k,r.a.createElement(Pe.a,{show:f,onHide:function(){return E(!1)},dialogClassName:"modal-dialog-centered","aria-labelledby":"modal-title",onExiting:function(){return E(!1)}},r.a.createElement(Pe.a.Header,{closeButton:!0},r.a.createElement(Pe.a.Title,{id:"modal-title"},"Add song")),r.a.createElement(Pe.a.Body,null,r.a.createElement(Jt,{callback:function(){return E(!1)}}))),r.a.createElement(Ge.DataTable,{value:t,className:"animated faster fadeIn",header:r.a.createElement(pt,{buttonText:"Add song",isDialogDisplaying:f,setGlobalFilte:d,setIsDialogDisplaying:E}),scrollable:!0,scrollHeight:"315px",globalFilter:m,sortField:"name"},r.a.createElement(He.Column,{field:"name",header:"Name",sortable:!0}),r.a.createElement(He.Column,{field:"tags",header:"Tags",sortable:!0}),r.a.createElement(He.Column,{field:"tempo",header:"Tempo",sortable:!0}),r.a.createElement(He.Column,{body:function(e){return r.a.createElement(St.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-secondary",onClick:function(){return l(t=e),void x.push("/bands/".concat(a.id,"/songs/").concat(t.id));var t}})},headerStyle:{width:"4em",textAlign:"center"},bodyStyle:{textAlign:"center",overflow:"visible"}}),r.a.createElement(He.Column,{body:function(e){return r.a.createElement(St.Button,{type:"button",icon:"pi pi-trash",className:"p-button-secondary",onClick:function(){return w(e),void O(!0)}})},headerStyle:{width:"4em",textAlign:"center"},bodyStyle:{textAlign:"center",overflow:"visible"}})))})),Zt=a(86),Kt=function(e){var t=e.lyricsCallback,a=e.setGlobalFilter,n=e.sheetsCallback;return r.a.createElement("div",{className:"container-fluid",style:{paddingTop:"15px"}},r.a.createElement("div",{className:"row align-content-center"},r.a.createElement("div",{className:"col-lg-2",style:{paddingBottom:"10px"}},r.a.createElement(Ve.a,{variant:"success",onClick:t},r.a.createElement("span",{className:"text-light"},r.a.createElement("i",{className:"fas fa-plus-square"})," Add Lyrics"))),r.a.createElement("div",{className:"col-lg-2",style:{paddingBottom:"10px"}},r.a.createElement(Ve.a,{variant:"success",onClick:n},r.a.createElement("span",{className:"text-light"},r.a.createElement("i",{className:"fas fa-plus-square"})," Add Sheet"))),r.a.createElement("div",{style:{paddingLeft:"550px"},className:"col"},r.a.createElement(Me.InputText,{type:"search",placeholder:"Search",onInput:function(e){return a(e.target.value)}}))))},Qt=Object(J.b)({band:ot,song:Gt}),Xt=Object(m.b)(Qt)((function(e){var t=e.band,a=e.song,n=Object(o.g)();return r.a.createElement(Zt.TreeTable,{className:"animated faster fadeIn",value:function(e){var t=e.lyrics,a=e.sheets;return{root:[{key:0,data:{type:"Lyrics",content:t}}].concat(a.map((function(e,t){return{key:t,data:{type:null===e||void 0===e?void 0:e.instrument,content:null===e||void 0===e?void 0:e.content}}})))}}(a),header:r.a.createElement(Kt,{lyricsCallback:function(){n.push("/bands/".concat(t.id,"/songs/").concat(a.id,"/editor/lyrics"))}})},r.a.createElement(He.Column,{field:"name",header:"Name",expander:!0}),r.a.createElement(He.Column,{field:"type",header:"Type"}))})),ea=a(87),ta=Object(J.b)({band:ot,song:Gt}),aa=Object(m.b)(ta)((function(e){var t=e.song,a=(e.band,Object(n.useState)(t.lyrics)),c=Object(s.a)(a,2),l=c[0],o=c[1];return r.a.createElement("div",null,r.a.createElement(ea.Editor,{value:l,onTextChange:function(e){return o(e.htmlValue)}}),r.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(e){return console.log(l)}},"Log html value"))})),na=function(){return r.a.createElement(o.d,null,r.a.createElement(d,{path:"/bands/:id/songs/:songId/editor/sheet/:sheetName"}),r.a.createElement(d,{path:"/bands/:id/songs/:songId/editor/sheet/new"}),r.a.createElement(d,{path:"/bands/:id/songs/:songId/editor/lyrics",component:aa}),r.a.createElement(d,{path:"/bands/:id/songs/:songId",component:Xt}))},ra=function(){return r.a.createElement(o.d,null,r.a.createElement(d,{path:"/bands/:id/songs/:songId",component:na}),r.a.createElement(d,{path:"/bands/:id/songs",component:$t}))},ca=se.api,la=function(e,t){var a=t.type,n=t.payload;switch(a){case"update":return{action:"update",message:"Are you sure you want to update ".concat(n)};case"mark_active":return{action:"markActive",message:"You are about to mark ".concat(n," as active. Are you sure?")};case"mark_inactive":return{action:"markInactive",message:"You are about to mark ".concat(n," as inactive. Are you sure?")};default:throw new Error("wrong action type")}},sa=Object(J.b)({user:W,selectedBand:ot,bands:st}),oa=Object(m.b)(sa,(function(e){return{updateSelectedBand:function(t){return e(ct(t))},fetchBandsSuccess:function(t){return e(nt(t))}}}))((function(e){var t=e.user,a=e.selectedBand,c=e.updateSelectedBand,l=(e.updateBands,e.bands),i=Object(n.useState)(a.genres.split(",").map((function(e){return e.trim()}))),u=Object(s.a)(i,2),m=u[0],d=u[1],b=Object(n.useState)(a.logo),p=Object(s.a)(b,2),f=p[0],E=p[1],h=Object(n.useState)(a.name),v=Object(s.a)(h,2),y=v[0],O=v[1],N=Object(n.useState)(a.description),j=Object(s.a)(N,2),S=j[0],w=j[1],C=Object(n.useState)("Active"===a.active),x=Object(s.a)(C,2),k=x[0],F=x[1],B=Object(n.useState)(!1),I=Object(s.a)(B,2),T=I[0],A=I[1],_=(Object(o.g)(),Object(n.useRef)(null)),L=Object(n.useRef)(null),U=Object(n.useRef)(null),D=Object(n.useReducer)(la,{action:{},message:""}),R=Object(s.a)(D,2),G=R[0],H=R[1],M=function(e){var t=e.target.id;console.log(t),"edit-band-save"===t&&(H({type:"update",payload:y}),A(!0)),"edit-band-mark"===t&&k&&(H({type:"mark_inactive",payload:y}),A(!0)),"edit-band-mark"!==t||k||(H({type:"mark_active",payload:y}),A(!0))},P=r.a.createElement(Pe.a,{show:T,onHide:function(){return A(!1)},centered:!0},r.a.createElement(Pe.a.Header,{closeButton:!0},r.a.createElement(Pe.a.Title,null,"Confirm changes")),r.a.createElement(Pe.a.Body,null,G.message),r.a.createElement(Pe.a.Footer,null,r.a.createElement("button",{className:"btn btn-primary",onClick:"update"===G.action?function(e){e.preventDefault();var n={name:y,description:S,genres:m,manager:t.id,logo:f};Xe.update(a.id,n).then((function(e){L.current.show({severity:"success",summary:"Success",detail:"Band Updated"}),A(!1);var t=Object(g.a)(Object(g.a)({},e),{},{genres:e.genres.join(", ")});return c(t),t})).then((function(e){nt(l.concat(e))})).catch((function(e){U.current.show({severity:"error",summary:"Error Message",detail:"Couldn't update band"})}))}:function(e){"markActive"===G.action&&Xe.update(a.id,{active:!0}).then((function(){_.current.show({severity:"success",summary:"Success",detail:"Band marked as active"}),F(!0),A(!1);var e=Object(g.a)(Object(g.a)({},a),{},{active:"Active"});return c(e),e})).then((function(e){nt(l.concat(e))})).catch((function(e){_.current.show({severity:"error",summary:"Error Message",detail:"Couldn't update band"}),A(!1)})),"markInactive"===G.action&&Xe.delete(a.id).then((function(){_.current.show({severity:"success",summary:"Success",detail:"Band marked as inactive"}),F(!1);var e=Object(g.a)(Object(g.a)({},a),{},{active:"Inactive"});c(e),A(!1)})).then((function(e){nt(l.concat(e))})).catch((function(e){_.current.show({severity:"error",summary:"Error Message",detail:"Couldn't update band"}),A(!1)}))}},"Confirm"),r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return A(!1)}},"Close")));return r.a.createElement(r.a.Fragment,null,P,r.a.createElement("div",{className:"animated faster fadeIn"},r.a.createElement("div",{className:"spacer-sm"}),r.a.createElement(it.Growl,{ref:U,position:"topright"}),r.a.createElement(it.Growl,{ref:L,position:"topright"}),r.a.createElement(it.Growl,{ref:_,position:"topright"}),r.a.createElement("form",{style:{paddingLeft:"20px"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-5"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6"},r.a.createElement("strong",null,"Edit band logo")),r.a.createElement(ze.FileUpload,{name:"data",url:"".concat(ca,"/storage/upload"),onUpload:function(e){_.current.show({severity:"success",summary:"Success",detail:"File Uploaded"});var t=JSON.parse(e.xhr.response);E(t.downloadUrl)},multiple:!1,accept:"image/*",maxFileSize:1e6}))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6",htmlFor:"band-name"},r.a.createElement("strong",null,"Band name")),r.a.createElement("input",{defaultValue:y,type:"text",className:"form-control",id:"band-name",onChange:function(e){return O(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"h6",htmlFor:"band-description"},r.a.createElement("strong",null,"Band description")),r.a.createElement("textarea",{className:"form-control",id:"band-description",rows:"3",onChange:function(e){return w(e.target.value)},defaultValue:S})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"h6 col",htmlFor:"band-genres"},r.a.createElement("strong",null,"Band genres"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(qe.MultiSelect,{style:{width:"70%",minWidth:"12em"},maxSelectedLabels:10,placeholder:"Select genres",optionLabel:"label",optionValue:"value",id:"Band-genres",value:m,options:Ye,onChange:function(e){return d(e.value)},selectedItemTemplate:ut})))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"}),r.a.createElement("div",{className:"col",style:{paddingLeft:"89px"}},r.a.createElement(Ve.a,{id:"edit-band-save",style:{width:"130px"},variant:"success",type:"button",onClick:M},"Save")," ",r.a.createElement(Ve.a,{id:"edit-band-mark",style:{width:"150px"},variant:"secondary",type:"button",onClick:M},"Mark as ".concat(k?"inactive":"active")))))))})),ia=Object(J.b)({selectedBand:ot}),ua=Object(m.b)(ia,(function(e){return{selectBand:function(t){return e(ct(t))}}}))((function(e){var t=e.selectedBand,a=(e.selectBand,Object(o.i)().id);Object(o.g)(),Object(o.g)();return a!==t.id?r.a.createElement(o.a,{to:"/bands"}):r.a.createElement("div",{className:"container-fluid",style:{padding:"20px"}},r.a.createElement(yt,{className:"shadowed animated faster bounceInRight"}),r.a.createElement("div",{className:"spacer-sm"}),r.a.createElement(Re,{className:"container-fluid shadowed animated faster bounceInRight delayed"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(jt,null))),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(o.d,null,r.a.createElement(d,{path:"/bands/:id/members",component:Lt}),r.a.createElement(d,{path:"/bands/:id/songs",component:ra}),r.a.createElement(d,{path:"/bands/:id/events",component:Dt}),r.a.createElement(d,{path:"/bands/:id/edit",component:oa}),r.a.createElement(o.a,{from:"/bands/:id",to:"/bands/:id/members"}))))))})),ma=Object(J.b)({bands:st,user:W}),da=Object(m.b)(ma,(function(e){return{fetchBandsSuccess:function(t){return e(nt(t))},fetchBandsFailure:function(t){return e(rt(t))}}}))((function(e){var t=e.fetchBandsFailure,a=e.fetchBandsSuccess,c=e.user;return Object(n.useEffect)((function(){Xe.getAll(c.id).then((function(e){a(e.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{active:e.active?"Active":"Inactive",genres:e.genres.join(", ")})})))})).catch((function(e){return t(e)}))}),[]),r.a.createElement(o.d,null,r.a.createElement(d,{path:"/bands/:id",component:ua}),r.a.createElement(d,{component:gt}))})),ba=function(){return r.a.createElement(r.a.Fragment,null)},pa=Object(o.j)((function(){return r.a.createElement("div",{className:"container-fluid",style:{padding:"20px"}},r.a.createElement(De,{className:"shadowed animated faster bounceInRight",title:"Your Setlists"},"Here you can organize, create, delete, edit and search your setlists were you are live experience designer"),r.a.createElement("div",{className:"spacer-sm"}),r.a.createElement(Re,{title:"Setlists",className:"shadowed animated faster bounceInRight delayed",searchBar:r.a.createElement("form",{style:{paddingLeft:"80px"},className:"form-inline my-2 my-lg-0",onSubmit:function(e){e.preventDefault()}},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search"}),r.a.createElement("button",{className:"btn btn-outline-secondary my-2 my-sm-0",type:"submit"},"Search"))},r.a.createElement(ba,null)))})),fa=function(){return r.a.createElement("div",{className:"bg-light container-fluid fill-height"},r.a.createElement("div",{className:"row"},r.a.createElement(de.a,{className:"shadowed fill-height col-2 "},r.a.createElement(Ue,null)),r.a.createElement("div",{className:"col-10"},r.a.createElement(o.d,null,r.a.createElement(d,{path:"/bands",component:da}),r.a.createElement(d,{path:"/setlists",component:pa}),r.a.createElement(d,{path:"/profile",component:function(){return r.a.createElement(r.a.Fragment,null,"profile")}}),r.a.createElement(d,{path:"/dashboard",component:function(){return r.a.createElement(r.a.Fragment,null,"dashboard")}}),r.a.createElement(o.a,{from:"/",to:"/dashboard"})))))},Ea=(a(178),a(179),a(180),a(181),a(182),a(183),a(184),a(185),r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,{className:"full-page"})));var ga=function(){var e=Object(n.useState)(y.a.get("jwt")),t=Object(s.a)(e,1)[0];if(t){var a=JSON.parse(t);Fe(a.token)}return console.log(t),r.a.createElement(m.a,{store:z},r.a.createElement(Y.a,{loading:null,persistor:V},r.a.createElement(i.a,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(o.d,null,r.a.createElement(d,{path:"/",component:fa}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",to:"/login",component:ke}),r.a.createElement(o.b,{exact:!0,path:"/test",render:function(){return Ea}}),r.a.createElement(o.b,{exact:!0,path:"/login",component:ke}),r.a.createElement(o.b,{exact:!0,path:"/register",component:ge}),r.a.createElement(o.a,{to:"/"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ga,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,t,a){e.exports=a.p+"static/media/only_logo.138c63d0.svg"},65:function(e,t,a){},79:function(e,t,a){e.exports=a.p+"static/media/register_bg.abe673d5.jpg"},80:function(e,t,a){e.exports=a.p+"static/media/google_logo.f6ce5696.svg"},81:function(e,t,a){e.exports=a.p+"static/media/fb_logo.dce3111d.svg"},82:function(e,t,a){e.exports=a.p+"static/media/login_bg.72512d89.jpg"},83:function(e,t,a){e.exports=a.p+"static/media/dashboard.7217f10c.svg"},89:function(e,t,a){e.exports=a(186)},94:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.5c735f47.chunk.js.map