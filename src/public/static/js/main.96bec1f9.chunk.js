(this["webpackJsonpsetlist-hero-react"]=this["webpackJsonpsetlist-hero-react"]||[]).push([[0],{25:function(e,t,a){},41:function(e,t,a){e.exports=a.p+"static/media/only_logo.d9e48477.svg"},44:function(e,t,a){e.exports=a.p+"static/media/register_bg.abe673d5.jpg"},46:function(e,t,a){e.exports=a.p+"static/media/google_logo.f6ce5696.svg"},47:function(e,t,a){e.exports=a.p+"static/media/fb_logo.dce3111d.svg"},48:function(e,t,a){e.exports=a.p+"static/media/login_bg.72512d89.jpg"},50:function(e,t,a){e.exports=a(82)},55:function(e,t,a){},56:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},80:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),l=(a(55),a(4)),s=(a(56),a(2)),i=a(12),u=a(49),m=a(7),p=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=a.user,c=a.loading,o=e.path,l=Object(u.a)(e,["component","auth","path"]);return r.a.createElement(s.b,{path:o,render:function(e){return n||c?r.a.createElement(t,Object.assign({},e,l)):r.a.createElement(s.a,{to:"/login"})}})})),d=a(14),g=a(5),b={LOGIN_START:"LOGIN_START",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT:"LOGOUT",REGISTER_SUCCESS:"REGISTER_SUCCESS",REGISTER_FAILURE:"REGISTER_FAILURE"},f=a(18),E=a.n(f),h={};E.a.get("jwt")&&(h=JSON.parse(E.a.get("jwt")));var v={user:Object(g.a)({token:h.token},h.user)||{},error:{}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case b.LOGIN_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{user:n});case b.LOGIN_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{error:n});case b.LOGOUT:return Object(g.a)(Object(g.a)({},e),{},{user:null,error:null});case b.REGISTER_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{user:n});case b.REGISTER_FAILURE:return Object(g.a)(Object(g.a)({},e),{},{error:n});default:return e}},j=Object(d.combineReducers)({auth:O}),w=a(40),S=Object(d.createStore)(j,{},Object(w.devToolsEnhancer)()),x=a(11),N=Object(x.a)([function(e){return e.auth}],(function(e){return e.user})),y=function(e){return{type:b.REGISTER_SUCCESS,payload:e}},k=a(41),R=a.n(k),C=function(){return r.a.createElement("div",{className:"center image-centerd"},r.a.createElement("img",{src:R.a,alt:"logo",style:{height:"".concat(100,"px"),width:"".concat(100,"px")}}))},I=a(15),L=a.n(I),U=a(22),_=a(42),F=a(43),G=a(23),T=a.n(G),A=function(e){return{api:"".concat(e,"/").concat("api"),isProduction:!0,isDevelopment:!1}}(""),P=Object(g.a)({},A),q=P.api,z=new(function(){function e(){Object(_.a)(this,e)}return Object(F.a)(e,[{key:"loginWithSocial",value:function(){var e=Object(U.a)(L.a.mark((function e(t){var a,n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(q,"/auth/").concat(t),e.next=3,T.a.get(a);case 3:return n=e.sent,r=n.request.responseURL,console.log(n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(U.a)(L.a.mark((function e(t){var a,n,r,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(q,"/auth/register"),e.next=4,T.a.post(a,t,{headers:{"content-type":"application/json"}});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:if(e.prev=8,e.t0=e.catch(0),403!==(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status)){e.next=12;break}throw new Error("User already registered");case 12:if(500!==(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status)){e.next=14;break}throw new Error("Something wrong happened... try again later");case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(U.a)(L.a.mark((function e(t){var a,n,r,c,o,l,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(q,"/auth/email"),e.next=4,T.a.post(a,t,{headers:{"content-type":"application/json"},withCredentials:!0});case 4:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 9:if(e.prev=9,e.t0=e.catch(0),s=null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(c=r.data)||void 0===c||null===(o=c.errors[0])||void 0===o?void 0:o.msg,500!==(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l?void 0:l.status)){e.next=16;break}throw new Error("Something wrong happened... try again later");case 16:throw new Error(s);case 17:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()),D=Object(x.b)({user:N}),W=Object(m.b)(D,(function(e){return{registerUser:function(t){return e(y(t))}}}))((function(e){e.registerUser;var t=e.user,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],u=c[1],m=Object(n.useState)(""),p=Object(l.a)(m,2),d=p[0],g=p[1],b=Object(n.useState)(""),f=Object(l.a)(b,2),E=f[0],h=f[1],v=Object(n.useState)(""),O=Object(l.a)(v,2),j=O[0],w=O[1],S=Object(n.useState)(""),x=Object(l.a)(S,2),N=x[0],y=x[1],k=Object(n.useState)(!1),R=Object(l.a)(k,2),I=R[0],L=R[1],U=Object(n.useState)(""),_=Object(l.a)(U,2),F=_[0],G=_[1],T=Object(n.useState)(!1),A=Object(l.a)(T,2),P=A[0],q=A[1],D=Object(n.useState)(""),W=Object(l.a)(D,2),B=W[0],J=W[1],$=Object(n.useState)(!1),H=Object(l.a)($,2),M=H[0],Z=H[1];Object(n.useEffect)((function(){o!==F?(J("Passwords are different"),q(!1)):(J(""),q(!0))}),[o,F]);return M?r.a.createElement(s.a,{to:"/login"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),I&&P&&(t={email:j,displayName:d,password:o,username:E},z.register(t).then((function(e){console.log(e),Z(!0),alert("user registered")})).catch((function(e){J(e.message)})))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",required:!0,id:"inputName",placeholder:"Enter name",onChange:function(e){return g(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"inputUsername",placeholder:"Enter username",required:!0,onChange:function(e){return h(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:"form-control",id:"inputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",required:!0,onChange:function(e){return w(e.target.value)}}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",required:!0,placeholder:"Password",id:"inputPassword1",onChange:function(e){u(e.target.value),/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/.test(o)?(y(""),L(!0)):y("Password must have at least one capital letter, one lowercase letter, one number and one special character (! @ # $ % ^ & *)")}}),r.a.createElement("small",{id:"passwordFeedback",className:"form-text text-danger"},N)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",required:!0,placeholder:"Confirm Password",id:"inputPassword2",onChange:function(e){return G(e.target.value)}}),r.a.createElement("small",{id:"passwordFeedback",className:"form-text text-danger"},B)),r.a.createElement("button",{type:"submit",className:"btn btn-warning btn-block text-light"},"Register")),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("small",{className:"center"},"Already have an account? ",r.a.createElement(i.b,{style:{paddingLeft:"5px"},to:"/login"},"Login here")))})),B=a(21),J=(a(25),a(44)),$=a.n(J),H=Object(x.b)({user:N}),M=Object(m.b)(H)((function(e){e.user;return r.a.createElement("div",{className:"p-3 fill-height center",style:{backgroundImage:"url(".concat($.a,")"),backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",backgroundSize:"cover"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{style:{width:"20rem",padding:"15px"}},r.a.createElement(W,null))))})),Z=P.api,K=function(e){var t=e.logo,a=e.text,n=e.action,c=e.btnClass;return r.a.createElement("button",{className:"btn btn-block ".concat(c),onClick:function(){return window.location.href="".concat(Z,"/auth/").concat(n)}},r.a.createElement("span",{className:"btn-content-horizontal"},r.a.createElement("img",{src:t,alt:"logo",style:{height:"".concat(20,"px"),width:"".concat(20,"px"),marginRight:"12px"}}),a))},Q=a(46),V=a.n(Q),X=a(47),Y=a.n(X),ee=Object(x.b)({user:N}),te=Object(m.b)(ee,(function(e){return{registerUser:function(t){return e(y(t))}}}))((function(e){e.registerUser;var t=e.user,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],s=c[1],u=Object(n.useState)(""),m=Object(l.a)(u,2),p=m[0],d=m[1],g=Object(n.useState)(""),b=Object(l.a)(g,2),f=b[0],E=b[1];Object(n.useEffect)((function(){return E("")}),[o,p]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t={identifier:p,password:o},z.login(t).then((function(e){console.log(e),alert("Logged In!"),window.location.href="/"})).catch((function(e){E(e.message)}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",required:!0,id:"inputName",placeholder:"Enter email or username",onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",required:!0,placeholder:"Password",id:"inputPassword2",onChange:function(e){return s(e.target.value)}}),r.a.createElement("small",{id:"passwordFeedback",className:"form-text text-danger"},f)),r.a.createElement("button",{type:"submit",className:"btn btn-warning btn-block text-light"},"Log in")),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement(K,{action:"google",text:"Log in with Google",logo:V.a,btnClass:"btn-outline-primary"}),r.a.createElement(K,{action:"facebook",text:"Log in with Facebook",logo:Y.a,btnClass:"btn-outline-primary"}),r.a.createElement("div",{className:"spacer-mini"}),r.a.createElement("small",{className:"center"},"Don't have an account? ",r.a.createElement(i.b,{style:{paddingLeft:"5px"},to:"/register"},"Register here")))})),ae=a(48),ne=a.n(ae),re=Object(x.b)({user:N}),ce=Object(m.b)(re)((function(){return r.a.createElement("div",{className:"p-3 fill-height center",style:{backgroundImage:"url(".concat(ne.a,")"),backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",backgroundSize:"cover"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{style:{width:"20rem",padding:"15px"}},r.a.createElement(te,null))))})),oe=function(){return r.a.createElement(r.a.Fragment,null,"Landing Page !")},le=function(){return r.a.createElement(r.a.Fragment,null,"Band Management!")},se=(a(80),r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{className:"full-page"})));var ie=function(){var e=Object(n.useState)(E.a.get("jwt")),t=Object(l.a)(e,1)[0];return console.log(t),r.a.createElement(m.a,{store:S},r.a.createElement(i.a,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.d,null,r.a.createElement(p,{exact:!0,path:"/",to:"/home",component:oe}),r.a.createElement(p,{exact:!0,path:"/home",component:oe}),r.a.createElement(p,{exact:!0,path:"/manage-bands",component:le}),r.a.createElement(s.a,{to:"/"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",to:"/logIn",component:ce}),r.a.createElement(s.b,{exact:!0,path:"/test",render:function(){return se}}),r.a.createElement(s.b,{exact:!0,path:"/login",component:ce}),r.a.createElement(s.b,{exact:!0,path:"/register",component:M}),r.a.createElement(s.a,{to:"/"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(81);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.96bec1f9.chunk.js.map